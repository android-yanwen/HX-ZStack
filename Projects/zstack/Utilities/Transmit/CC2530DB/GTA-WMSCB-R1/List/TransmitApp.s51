///////////////////////////////////////////////////////////////////////////////
//                                                                            /
// IAR C/C++ Compiler V8.20.2.41139 for 8051            17/Aug/2016  13:15:13 /
// Copyright 2004-2013 IAR Systems AB.                                        /
//                                                                            /
//    Core               =  plain                                             /
//    Code model         =  banked                                            /
//    Data model         =  large                                             /
//    Calling convention =  xdata reentrant                                   /
//    Constant location  =  data_rom                                          /
//    Dptr setup         =  1,16                                              /
//                                                                            /
//    Source file        =  E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zstack\ /
//                          Utilities\Transmit\Source\TransmitApp.c           /
//    Command line       =  -f E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zsta /
//                          ck\Utilities\Transmit\CC2530DB\..\..\..\Tools\CC2 /
//                          530DB\f8wEndev.cfg (-DCPU32MHZ                    /
//                          -DROOT=__near_func -DMAC_CFG_TX_DATA_MAX=3        /
//                          -DMAC_CFG_TX_MAX=6 -DMAC_CFG_RX_MAX=3) -f         /
//                          E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zstack\ /
//                          Utilities\Transmit\CC2530DB\..\..\..\Tools\CC2530 /
//                          DB\f8wConfig.cfg (-DZIGBEEPRO -DSECURE=0          /
//                          -DZG_SECURE_DYNAMIC=0 -DREFLECTOR                 /
//                          -DDEFAULT_CHANLIST=0x00001000                     /
//                          -DZDAPP_CONFIG_PAN_ID=0x1178                      /
//                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_M /
//                          ASK=0x007F -DBEACON_REQUEST_DELAY=100             /
//                          -DBEACON_REQ_DELAY_MASK=0x00FF                    /
//                          -DLINK_STATUS_JITTER_MASK=0x007F                  /
//                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_P /
//                          OLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=3           /
//                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=2   /
//                          -DNWK_MAX_DATA_RETRIES=2                          /
//                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9        /
//                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40          /
//                          -DNWK_MAX_BINDING_ENTRIES=4                       /
//                          -DMAX_BINDING_CLUSTER_IDS=4                       /
//                          "-DDEFAULT_KEY={0x01, 0x03, 0x05, 0x07, 0x09,     /
//                          0x0B, 0x0D, 0x0F, 0x00, 0x02, 0x04, 0x06, 0x08,   /
//                          0x0A, 0x0C, 0x0D}" -DMAC_MAX_FRAME_SIZE=116       /
//                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const    /
//                          __code" -DGENERIC=__generic                       /
//                          -DRFD_RCVC_ALWAYS_ON=TRUE -DPOLL_RATE=1000        /
//                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)  /
//                          -DREJOIN_POLL_RATE=440 E:\ZSTACK-GTAMODBUS-v1.0£¨ /
//                          Û³ÎÄ£©\Projects\zstack\Utilities\Transmit\Source\ /
//                          TransmitApp.c -D xNWK_AUTO_POLL -D xMT_TASK -D    /
//                          xZTOOL_P1 -D xMT_SYS_FUNC -D xMT_ZDO_FUNC -D      /
//                          ZDNWKMGR_MIN_TRANSMISSIONS=0 -D xGTA_DEBUG -D     /
//                          ZIGBEEPRO -D GTA_WMSCB_R1 -lC                     /
//                          E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zstack\ /
//                          Utilities\Transmit\CC2530DB\GTA-WMSCB-R1\List\    /
//                          -lA E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zst /
//                          ack\Utilities\Transmit\CC2530DB\GTA-WMSCB-R1\List /
//                          \ --diag_suppress Pe001,Pa010 -o                  /
//                          E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zstack\ /
//                          Utilities\Transmit\CC2530DB\GTA-WMSCB-R1\Obj\ -e  /
//                          --no_code_motion --debug --core=plain             /
//                          --dptr=16,1 --data_model=large                    /
//                          --code_model=banked --calling_convention=xdata_re /
//                          entrant --place_constants=data_rom                /
//                          --nr_virtual_regs 16 -I                           /
//                          E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zstack\ /
//                          Utilities\Transmit\CC2530DB\ -I                   /
//                          E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zstack\ /
//                          Utilities\Transmit\CC2530DB\..\Source\ -I         /
//                          E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zstack\ /
//                          Utilities\Transmit\CC2530DB\..\..\..\ZMain\TI2530 /
//                          DB\ -I E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\ /
//                          zstack\Utilities\Transmit\CC2530DB\..\..\..\..\.. /
//                          \Components\hal\include\ -I                       /
//                          E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zstack\ /
//                          Utilities\Transmit\CC2530DB\..\..\..\..\..\Compon /
//                          ents\hal\target\CC2530EB\ -I                      /
//                          E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zstack\ /
//                          Utilities\Transmit\CC2530DB\..\..\..\..\..\Compon /
//                          ents\mac\include\ -I E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ /
//                          ÎÄ£©\Projects\zstack\Utilities\Transmit\CC2530DB\ /
//                          ..\..\..\..\..\Components\mac\high_level\ -I      /
//                          E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zstack\ /
//                          Utilities\Transmit\CC2530DB\..\..\..\..\..\Compon /
//                          ents\mac\low_level\srf04\ -I                      /
//                          E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zstack\ /
//                          Utilities\Transmit\CC2530DB\..\..\..\..\..\Compon /
//                          ents\mac\low_level\srf04\single_chip\ -I          /
//                          E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zstack\ /
//                          Utilities\Transmit\CC2530DB\..\..\..\..\..\Compon /
//                          ents\mt\ -I E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Proj /
//                          ects\zstack\Utilities\Transmit\CC2530DB\..\..\..\ /
//                          ..\..\Components\osal\include\ -I                 /
//                          E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zstack\ /
//                          Utilities\Transmit\CC2530DB\..\..\..\..\..\Compon /
//                          ents\services\saddr\ -I                           /
//                          E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zstack\ /
//                          Utilities\Transmit\CC2530DB\..\..\..\..\..\Compon /
//                          ents\services\sdata\ -I                           /
//                          E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zstack\ /
//                          Utilities\Transmit\CC2530DB\..\..\..\..\..\Compon /
//                          ents\stack\af\ -I E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£ /
//                          ©\Projects\zstack\Utilities\Transmit\CC2530DB\..\ /
//                          ..\..\..\..\Components\stack\nwk\ -I              /
//                          E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zstack\ /
//                          Utilities\Transmit\CC2530DB\..\..\..\..\..\Compon /
//                          ents\stack\sapi\ -I E:\ZSTACK-GTAMODBUS-v1.0£¨Û³Î /
//                          Ä£©\Projects\zstack\Utilities\Transmit\CC2530DB\. /
//                          .\..\..\..\..\Components\stack\sec\ -I            /
//                          E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zstack\ /
//                          Utilities\Transmit\CC2530DB\..\..\..\..\..\Compon /
//                          ents\stack\sys\ -I E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ /
//                          £©\Projects\zstack\Utilities\Transmit\CC2530DB\.. /
//                          \..\..\..\..\Components\stack\zdo\ -I             /
//                          E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zstack\ /
//                          Utilities\Transmit\CC2530DB\..\..\..\..\..\Compon /
//                          ents\zmac\ -I E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Pr /
//                          ojects\zstack\Utilities\Transmit\CC2530DB\..\..\. /
//                          .\..\..\Components\zmac\f8w\ -Ohz                 /
//                          --require_prototypes                              /
//    List file          =  E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zstack\ /
//                          Utilities\Transmit\CC2530DB\GTA-WMSCB-R1\List\Tra /
//                          nsmitApp.s51                                      /
//                                                                            /
//                                                                            /
///////////////////////////////////////////////////////////////////////////////

        NAME TransmitApp

        RTMODEL "__SystemLibrary", "CLib"
        RTMODEL "__calling_convention", "xdata_reentrant"
        RTMODEL "__code_model", "banked"
        RTMODEL "__core", "plain"
        RTMODEL "__data_model", "large"
        RTMODEL "__dptr_size", "16"
        RTMODEL "__extended_stack", "disabled"
        RTMODEL "__location_for_constants", "data"
        RTMODEL "__number_of_dptrs", "1"
        RTMODEL "__rt_version", "1"

        RSEG DOVERLAY:DATA:NOROOT(0)
        RSEG IOVERLAY:IDATA:NOROOT(0)
        RSEG ISTACK:IDATA:NOROOT(0)
        RSEG PSTACK:XDATA:NOROOT(0)
        RSEG XSTACK:XDATA:NOROOT(0)

        EXTERN ?ALLOC_XSTACK8
        EXTERN ?BANKED_ENTER_XDATA
        EXTERN ?BANKED_LEAVE_XDATA
        EXTERN ?BDISPATCH
        EXTERN ?BRET
        EXTERN ?DEALLOC_XSTACK8
        EXTERN ?FLT_DIV
        EXTERN ?FLT_MUL
        EXTERN ?FLT_TO_L
        EXTERN ?L_ADD_TO_X
        EXTERN ?L_MOV_X
        EXTERN ?L_TO_FLT
        EXTERN ?MOVE_LONG8_XDATA_XDATA
        EXTERN ?PUSH_XSTACK8_X_TWO
        EXTERN ?PUSH_XSTACK_I_ONE
        EXTERN ?PUSH_XSTACK_I_TWO
        EXTERN ?SS_SHR
        EXTERN ?US_SHR
        EXTERN ?US_SWITCH_SPARSE
        EXTERN ?V0
        EXTERN ?XSP
        EXTERN ?XSTACK_DISP0_8
        EXTERN ?XSTORE_R2345
        EXTERN __INIT_XDATA_I
        EXTERN __INIT_XDATA_Z

        PUBLIC ??Crc16Code?relay
        FUNCTION ??Crc16Code?relay,0203H
        PUBLIC ??FramePackage?relay
        FUNCTION ??FramePackage?relay,0203H
        PUBLIC ??FrameUnPackage?relay
        FUNCTION ??FrameUnPackage?relay,0203H
        PUBLIC ??ReadADC?relay
        FUNCTION ??ReadADC?relay,0203H
        PUBLIC ??ReportData?relay
        FUNCTION ??ReportData?relay,0203H
        PUBLIC ??SegDisplay?relay
        FUNCTION ??SegDisplay?relay,0203H
        PUBLIC ??SendBindRequest?relay
        FUNCTION ??SendBindRequest?relay,0203H
        PUBLIC ??SendDataRequest?relay
        FUNCTION ??SendDataRequest?relay,0203H
        PUBLIC ??SentDataInBind?relay
        FUNCTION ??SentDataInBind?relay,0203H
        PUBLIC ??StepMotorRun?relay
        FUNCTION ??StepMotorRun?relay,0203H
        PUBLIC ??TransmitApp_ChangeState?relay
        FUNCTION ??TransmitApp_ChangeState?relay,0203H
        PUBLIC ??TransmitApp_DisplayResults?relay
        FUNCTION ??TransmitApp_DisplayResults?relay,0203H
        PUBLIC ??TransmitApp_HandleKeys?relay
        FUNCTION ??TransmitApp_HandleKeys?relay,0203H
        PUBLIC ??TransmitApp_Init?relay
        FUNCTION ??TransmitApp_Init?relay,0203H
        PUBLIC ??TransmitApp_MessageMSGCB?relay
        FUNCTION ??TransmitApp_MessageMSGCB?relay,0203H
        PUBLIC ??TransmitApp_ProcessEvent?relay
        FUNCTION ??TransmitApp_ProcessEvent?relay,0203H
        PUBLIC ??TransmitApp_ProcessZDOIncomingMsgs?relay
        FUNCTION ??TransmitApp_ProcessZDOIncomingMsgs?relay,0203H
        PUBLIC ??TransmitApp_ProcessZDOMsgs?relay
        FUNCTION ??TransmitApp_ProcessZDOMsgs?relay,0203H
        PUBLIC ??TransmitApp_SendTheMessage?relay
        FUNCTION ??TransmitApp_SendTheMessage?relay,0203H
        PUBLIC ??TransmitApp_SetSendEvt?relay
        FUNCTION ??TransmitApp_SetSendEvt?relay,0203H
        PUBLIC ??ctrl_GTA_WMSCB?relay
        FUNCTION ??ctrl_GTA_WMSCB?relay,0203H
        PUBLIC ??initUart?relay
        FUNCTION ??initUart?relay,0203H
        PUBLIC ??init_GTA_WMSCB?relay
        FUNCTION ??init_GTA_WMSCB?relay,0203H
        PUBLIC ??uartRxCB?relay
        FUNCTION ??uartRxCB?relay,0203H
        PUBWEAK ADCCON1
        PUBWEAK ADCCON3
        PUBWEAK ADCH
        PUBWEAK ADCL
        PUBLIC Crc16Code
        FUNCTION Crc16Code,0203H
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 10, STACK
        PUBLIC Flag_ReportData
        PUBLIC FramePackage
        FUNCTION FramePackage,021203H
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 14, STACK
        PUBLIC FrameUnPackage
        FUNCTION FrameUnPackage,021203H
        ARGFRAME XSTACK, 33, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 16, STACK
        PUBLIC NativeAddr
        PUBWEAK P0DIR
        PUBWEAK P0SEL
        PUBWEAK P1DIR
        PUBWEAK P1SEL
        PUBWEAK P2DIR
        PUBWEAK P2SEL
        PUBLIC ReadADC
        FUNCTION ReadADC,0203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        PUBLIC ReportData
        FUNCTION ReportData,021203H
        ARGFRAME XSTACK, 33, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 34, STACK
        PUBLIC SegDisplay
        FUNCTION SegDisplay,021203H
        ARGFRAME XSTACK, 26, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 20, STACK
        PUBLIC SendBindRequest
        FUNCTION SendBindRequest,021203H
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 29, STACK
        PUBLIC SendDataRequest
        FUNCTION SendDataRequest,021203H
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 19, STACK
        PUBLIC SentDataInBind
        FUNCTION SentDataInBind,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        PUBLIC StepMotorRun
        FUNCTION StepMotorRun,0a1203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 26, STACK
        PUBLIC TestDirectSent_DstAddr
        PUBLIC TransmitApp_ChangeState
        FUNCTION TransmitApp_ChangeState,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 2, STACK
        PUBLIC TransmitApp_ClusterList
        PUBLIC TransmitApp_DisplayResults
        FUNCTION TransmitApp_DisplayResults,021203H
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 12, STACK
        PUBLIC TransmitApp_DstAddr
        PUBLIC TransmitApp_HandleKeys
        FUNCTION TransmitApp_HandleKeys,021203H
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 9, STACK
        PUBLIC TransmitApp_Init
        FUNCTION TransmitApp_Init,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 16, STACK
        PUBLIC TransmitApp_MaxDataLength
        PUBLIC TransmitApp_MessageMSGCB
        FUNCTION TransmitApp_MessageMSGCB,0203H
        ARGFRAME XSTACK, 0, STACK
        PUBLIC TransmitApp_Msg
        PUBLIC TransmitApp_NwkState
        PUBLIC TransmitApp_ProcessEvent
        FUNCTION TransmitApp_ProcessEvent,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        PUBLIC TransmitApp_ProcessZDOIncomingMsgs
        FUNCTION TransmitApp_ProcessZDOIncomingMsgs,021203H
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 33, STACK
        PUBLIC TransmitApp_ProcessZDOMsgs
        FUNCTION TransmitApp_ProcessZDOMsgs,0a1203H
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 10, STACK
        PUBLIC TransmitApp_SendTheMessage
        FUNCTION TransmitApp_SendTheMessage,021203H
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 19, STACK
        PUBLIC TransmitApp_SetSendEvt
        FUNCTION TransmitApp_SetSendEvt,021203H
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        PUBLIC TransmitApp_SimpleDesc
        PUBLIC TransmitApp_State
        PUBLIC TransmitApp_TaskID
        PUBLIC TransmitApp_epDesc
        PUBWEAK _A_P0
        PUBWEAK _A_P1
        PUBWEAK _A_P2
        PUBWEAK __Constant_40533333
        PUBWEAK __Constant_447a0000
        PUBWEAK __Constant_44ffe000
        PUBLIC ctrl_GTA_WMSCB
        FUNCTION ctrl_GTA_WMSCB,080203H
        ARGFRAME XSTACK, 26, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUBLIC initUart
        FUNCTION initUart,021203H
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 29, STACK
        PUBLIC init_GTA_WMSCB
        FUNCTION init_GTA_WMSCB,0203H
        ARGFRAME XSTACK, 0, STACK
        PUBLIC pktCounter
        PUBLIC uartRxCB
        FUNCTION uartRxCB,021603H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 149, STACK
        
          CFI Names cfiNames0
          CFI StackFrame CFA_SP SP IDATA
          CFI StackFrame CFA_PSP16 PSP16 XDATA
          CFI StackFrame CFA_XSP16 XSP16 XDATA
          CFI StaticOverlayFrame CFA_IOVERLAY IOVERLAY
          CFI StaticOverlayFrame CFA_DOVERLAY DOVERLAY
          CFI Resource `PSW.CY`:1, `B.BR0`:1, `B.BR1`:1, `B.BR2`:1, `B.BR3`:1
          CFI Resource `B.BR4`:1, `B.BR5`:1, `B.BR6`:1, `B.BR7`:1, `VB.BR8`:1
          CFI Resource `VB.BR9`:1, `VB.BR10`:1, `VB.BR11`:1, `VB.BR12`:1
          CFI Resource `VB.BR13`:1, `VB.BR14`:1, `VB.BR15`:1, VB:8, B:8, A:8
          CFI Resource PSW:8, DPL0:8, DPH0:8, R0:8, R1:8, R2:8, R3:8, R4:8, R5:8
          CFI Resource R6:8, R7:8, V0:8, V1:8, V2:8, V3:8, V4:8, V5:8, V6:8, V7:8
          CFI Resource V8:8, V9:8, V10:8, V11:8, V12:8, V13:8, V14:8, V15:8, SP:8
          CFI Resource PSPH:8, PSPL:8, PSP16:16, XSPH:8, XSPL:8, XSP16:16
          CFI VirtualResource ?RET:24
          CFI Resource ?BRET_EXT:8
          CFI VirtualResource ?RET_HIGH:8, ?RET_LOW:8
          CFI ResourceParts PSP16 PSPH, PSPL
          CFI ResourceParts XSP16 XSPH, XSPL
          CFI ResourceParts ?RET ?BRET_EXT, ?RET_HIGH, ?RET_LOW
          CFI EndNames cfiNames0
        
          CFI Common cfiCommon0 Using cfiNames0
          CFI CodeAlign 1
          CFI DataAlign -1
          CFI ReturnAddress ?RET CODE
          CFI CFA_DOVERLAY Used
          CFI CFA_IOVERLAY Used
          CFI CFA_SP SP+-3
          CFI CFA_PSP16 PSP16+0
          CFI CFA_XSP16 XSP16+0
          CFI `PSW.CY` SameValue
          CFI `B.BR0` SameValue
          CFI `B.BR1` SameValue
          CFI `B.BR2` SameValue
          CFI `B.BR3` SameValue
          CFI `B.BR4` SameValue
          CFI `B.BR5` SameValue
          CFI `B.BR6` SameValue
          CFI `B.BR7` SameValue
          CFI `VB.BR8` SameValue
          CFI `VB.BR9` SameValue
          CFI `VB.BR10` SameValue
          CFI `VB.BR11` SameValue
          CFI `VB.BR12` SameValue
          CFI `VB.BR13` SameValue
          CFI `VB.BR14` SameValue
          CFI `VB.BR15` SameValue
          CFI VB SameValue
          CFI B Undefined
          CFI A Undefined
          CFI PSW SameValue
          CFI DPL0 SameValue
          CFI DPH0 SameValue
          CFI R0 Undefined
          CFI R1 Undefined
          CFI R2 Undefined
          CFI R3 Undefined
          CFI R4 Undefined
          CFI R5 Undefined
          CFI R6 SameValue
          CFI R7 SameValue
          CFI V0 SameValue
          CFI V1 SameValue
          CFI V2 SameValue
          CFI V3 SameValue
          CFI V4 SameValue
          CFI V5 SameValue
          CFI V6 SameValue
          CFI V7 SameValue
          CFI V8 SameValue
          CFI V9 SameValue
          CFI V10 SameValue
          CFI V11 SameValue
          CFI V12 SameValue
          CFI V13 SameValue
          CFI V14 SameValue
          CFI V15 SameValue
          CFI PSPH Undefined
          CFI PSPL Undefined
          CFI XSPH Undefined
          CFI XSPL Undefined
          CFI ?RET Concat
          CFI ?BRET_EXT Frame(CFA_SP, 3)
          CFI ?RET_HIGH Frame(CFA_SP, 2)
          CFI ?RET_LOW Frame(CFA_SP, 1)
          CFI EndCommon cfiCommon0
        
        
          CFI Common cfiCommon1 Using cfiNames0
          CFI CodeAlign 1
          CFI DataAlign -1
          CFI ReturnAddress ?RET CODE
          CFI CFA_DOVERLAY Used
          CFI CFA_IOVERLAY Used
          CFI CFA_SP SP+-2
          CFI CFA_PSP16 PSP16+0
          CFI CFA_XSP16 XSP16+0
          CFI `PSW.CY` SameValue
          CFI `B.BR0` SameValue
          CFI `B.BR1` SameValue
          CFI `B.BR2` SameValue
          CFI `B.BR3` SameValue
          CFI `B.BR4` SameValue
          CFI `B.BR5` SameValue
          CFI `B.BR6` SameValue
          CFI `B.BR7` SameValue
          CFI `VB.BR8` SameValue
          CFI `VB.BR9` SameValue
          CFI `VB.BR10` SameValue
          CFI `VB.BR11` SameValue
          CFI `VB.BR12` SameValue
          CFI `VB.BR13` SameValue
          CFI `VB.BR14` SameValue
          CFI `VB.BR15` SameValue
          CFI VB SameValue
          CFI B SameValue
          CFI A SameValue
          CFI PSW SameValue
          CFI DPL0 SameValue
          CFI DPH0 SameValue
          CFI R0 SameValue
          CFI R1 SameValue
          CFI R2 SameValue
          CFI R3 SameValue
          CFI R4 SameValue
          CFI R5 SameValue
          CFI R6 SameValue
          CFI R7 SameValue
          CFI V0 SameValue
          CFI V1 SameValue
          CFI V2 SameValue
          CFI V3 SameValue
          CFI V4 SameValue
          CFI V5 SameValue
          CFI V6 SameValue
          CFI V7 SameValue
          CFI V8 SameValue
          CFI V9 SameValue
          CFI V10 SameValue
          CFI V11 SameValue
          CFI V12 SameValue
          CFI V13 SameValue
          CFI V14 SameValue
          CFI V15 SameValue
          CFI PSPH Undefined
          CFI PSPL Undefined
          CFI XSPH Undefined
          CFI XSPL Undefined
          CFI ?RET Concat
          CFI ?BRET_EXT SameValue
          CFI ?RET_HIGH Frame(CFA_SP, 2)
          CFI ?RET_LOW Frame(CFA_SP, 1)
          CFI EndCommon cfiCommon1
        
AF_DataRequest      SYMBOL "AF_DataRequest"
??AF_DataRequest?relay SYMBOL "?relay", AF_DataRequest
ControlStepMotor    SYMBOL "ControlStepMotor"
??ControlStepMotor?relay SYMBOL "?relay", ControlStepMotor
DisplaySmg          SYMBOL "DisplaySmg"
??DisplaySmg?relay  SYMBOL "?relay", DisplaySmg
HalLcdWriteString   SYMBOL "HalLcdWriteString"
??HalLcdWriteString?relay SYMBOL "?relay", HalLcdWriteString
HalLedBlink         SYMBOL "HalLedBlink"
??HalLedBlink?relay SYMBOL "?relay", HalLedBlink
HalLedSet           SYMBOL "HalLedSet"
??HalLedSet?relay   SYMBOL "?relay", HalLedSet
HalUARTOpen         SYMBOL "HalUARTOpen"
??HalUARTOpen?relay SYMBOL "?relay", HalUARTOpen
HalUARTRead         SYMBOL "HalUARTRead"
??HalUARTRead?relay SYMBOL "?relay", HalUARTRead
HalUARTWrite        SYMBOL "HalUARTWrite"
??HalUARTWrite?relay SYMBOL "?relay", HalUARTWrite
NLME_GetShortAddr   SYMBOL "NLME_GetShortAddr"
??NLME_GetShortAddr?relay SYMBOL "?relay", NLME_GetShortAddr
RegisterForKeys     SYMBOL "RegisterForKeys"
??RegisterForKeys?relay SYMBOL "?relay", RegisterForKeys
ZDO_ParseEPListRsp  SYMBOL "ZDO_ParseEPListRsp"
??ZDO_ParseEPListRsp?relay SYMBOL "?relay", ZDO_ParseEPListRsp
ZDO_RegisterForZDOMsg SYMBOL "ZDO_RegisterForZDOMsg"
??ZDO_RegisterForZDOMsg?relay SYMBOL "?relay", ZDO_RegisterForZDOMsg
ZDP_EndDeviceBindReq SYMBOL "ZDP_EndDeviceBindReq"
??ZDP_EndDeviceBindReq?relay SYMBOL "?relay", ZDP_EndDeviceBindReq
afDataReqMTU        SYMBOL "afDataReqMTU"
??afDataReqMTU?relay SYMBOL "?relay", afDataReqMTU
afRegister          SYMBOL "afRegister"
??afRegister?relay  SYMBOL "?relay", afRegister
osal_GetSystemClock SYMBOL "osal_GetSystemClock"
??osal_GetSystemClock?relay SYMBOL "?relay", osal_GetSystemClock
osal_mem_free       SYMBOL "osal_mem_free"
??osal_mem_free?relay SYMBOL "?relay", osal_mem_free
osal_msg_deallocate SYMBOL "osal_msg_deallocate"
??osal_msg_deallocate?relay SYMBOL "?relay", osal_msg_deallocate
osal_msg_receive    SYMBOL "osal_msg_receive"
??osal_msg_receive?relay SYMBOL "?relay", osal_msg_receive
osal_nv_item_init   SYMBOL "osal_nv_item_init"
??osal_nv_item_init?relay SYMBOL "?relay", osal_nv_item_init
osal_nv_read        SYMBOL "osal_nv_read"
??osal_nv_read?relay SYMBOL "?relay", osal_nv_read
osal_nv_write       SYMBOL "osal_nv_write"
??osal_nv_write?relay SYMBOL "?relay", osal_nv_write
osal_set_event      SYMBOL "osal_set_event"
??osal_set_event?relay SYMBOL "?relay", osal_set_event
osal_start_timerEx  SYMBOL "osal_start_timerEx"
??osal_start_timerEx?relay SYMBOL "?relay", osal_start_timerEx
osal_stop_timerEx   SYMBOL "osal_stop_timerEx"
??osal_stop_timerEx?relay SYMBOL "?relay", osal_stop_timerEx
Crc16Code           SYMBOL "Crc16Code"
??Crc16Code?relay   SYMBOL "?relay", Crc16Code
FramePackage        SYMBOL "FramePackage"
??FramePackage?relay SYMBOL "?relay", FramePackage
FrameUnPackage      SYMBOL "FrameUnPackage"
??FrameUnPackage?relay SYMBOL "?relay", FrameUnPackage
ReadADC             SYMBOL "ReadADC"
??ReadADC?relay     SYMBOL "?relay", ReadADC
ReportData          SYMBOL "ReportData"
??ReportData?relay  SYMBOL "?relay", ReportData
SegDisplay          SYMBOL "SegDisplay"
??SegDisplay?relay  SYMBOL "?relay", SegDisplay
SendBindRequest     SYMBOL "SendBindRequest"
??SendBindRequest?relay SYMBOL "?relay", SendBindRequest
SendDataRequest     SYMBOL "SendDataRequest"
??SendDataRequest?relay SYMBOL "?relay", SendDataRequest
SentDataInBind      SYMBOL "SentDataInBind"
??SentDataInBind?relay SYMBOL "?relay", SentDataInBind
StepMotorRun        SYMBOL "StepMotorRun"
??StepMotorRun?relay SYMBOL "?relay", StepMotorRun
TransmitApp_ChangeState SYMBOL "TransmitApp_ChangeState"
??TransmitApp_ChangeState?relay SYMBOL "?relay", TransmitApp_ChangeState
TransmitApp_DisplayResults SYMBOL "TransmitApp_DisplayResults"
??TransmitApp_DisplayResults?relay SYMBOL "?relay", TransmitApp_DisplayResults
TransmitApp_HandleKeys SYMBOL "TransmitApp_HandleKeys"
??TransmitApp_HandleKeys?relay SYMBOL "?relay", TransmitApp_HandleKeys
TransmitApp_Init    SYMBOL "TransmitApp_Init"
??TransmitApp_Init?relay SYMBOL "?relay", TransmitApp_Init
TransmitApp_MessageMSGCB SYMBOL "TransmitApp_MessageMSGCB"
??TransmitApp_MessageMSGCB?relay SYMBOL "?relay", TransmitApp_MessageMSGCB
TransmitApp_ProcessEvent SYMBOL "TransmitApp_ProcessEvent"
??TransmitApp_ProcessEvent?relay SYMBOL "?relay", TransmitApp_ProcessEvent
TransmitApp_ProcessZDOIncomingMsgs SYMBOL "TransmitApp_ProcessZDOIncomingMsgs"
??TransmitApp_ProcessZDOIncomingMsgs?relay SYMBOL "?relay", TransmitApp_ProcessZDOIncomingMsgs
TransmitApp_ProcessZDOMsgs SYMBOL "TransmitApp_ProcessZDOMsgs"
??TransmitApp_ProcessZDOMsgs?relay SYMBOL "?relay", TransmitApp_ProcessZDOMsgs
TransmitApp_SendTheMessage SYMBOL "TransmitApp_SendTheMessage"
??TransmitApp_SendTheMessage?relay SYMBOL "?relay", TransmitApp_SendTheMessage
TransmitApp_SetSendEvt SYMBOL "TransmitApp_SetSendEvt"
??TransmitApp_SetSendEvt?relay SYMBOL "?relay", TransmitApp_SetSendEvt
ctrl_GTA_WMSCB      SYMBOL "ctrl_GTA_WMSCB"
??ctrl_GTA_WMSCB?relay SYMBOL "?relay", ctrl_GTA_WMSCB
initUart            SYMBOL "initUart"
??initUart?relay    SYMBOL "?relay", initUart
init_GTA_WMSCB      SYMBOL "init_GTA_WMSCB"
??init_GTA_WMSCB?relay SYMBOL "?relay", init_GTA_WMSCB
uartRxCB            SYMBOL "uartRxCB"
??uartRxCB?relay    SYMBOL "?relay", uartRxCB

        EXTERN ??AF_DataRequest?relay
        FUNCTION ??AF_DataRequest?relay,00H
        EXTERN ??ControlStepMotor?relay
        FUNCTION ??ControlStepMotor?relay,00H
        EXTERN ??DisplaySmg?relay
        FUNCTION ??DisplaySmg?relay,00H
        EXTERN ??HalLcdWriteString?relay
        FUNCTION ??HalLcdWriteString?relay,00H
        EXTERN ??HalLedBlink?relay
        FUNCTION ??HalLedBlink?relay,00H
        EXTERN ??HalLedSet?relay
        FUNCTION ??HalLedSet?relay,00H
        EXTERN ??HalUARTOpen?relay
        FUNCTION ??HalUARTOpen?relay,00H
        EXTERN ??HalUARTRead?relay
        FUNCTION ??HalUARTRead?relay,00H
        EXTERN ??HalUARTWrite?relay
        FUNCTION ??HalUARTWrite?relay,00H
        EXTERN ??NLME_GetShortAddr?relay
        FUNCTION ??NLME_GetShortAddr?relay,00H
        EXTERN ??RegisterForKeys?relay
        FUNCTION ??RegisterForKeys?relay,00H
        EXTERN ??ZDO_ParseEPListRsp?relay
        FUNCTION ??ZDO_ParseEPListRsp?relay,00H
        EXTERN ??ZDO_RegisterForZDOMsg?relay
        FUNCTION ??ZDO_RegisterForZDOMsg?relay,00H
        EXTERN ??ZDP_EndDeviceBindReq?relay
        FUNCTION ??ZDP_EndDeviceBindReq?relay,00H
        EXTERN ??afDataReqMTU?relay
        FUNCTION ??afDataReqMTU?relay,00H
        EXTERN ??afRegister?relay
        FUNCTION ??afRegister?relay,00H
        EXTERN ??osal_GetSystemClock?relay
        FUNCTION ??osal_GetSystemClock?relay,00H
        EXTERN ??osal_mem_free?relay
        FUNCTION ??osal_mem_free?relay,00H
        EXTERN ??osal_msg_deallocate?relay
        FUNCTION ??osal_msg_deallocate?relay,00H
        EXTERN ??osal_msg_receive?relay
        FUNCTION ??osal_msg_receive?relay,00H
        EXTERN ??osal_nv_item_init?relay
        FUNCTION ??osal_nv_item_init?relay,00H
        EXTERN ??osal_nv_read?relay
        FUNCTION ??osal_nv_read?relay,00H
        EXTERN ??osal_nv_write?relay
        FUNCTION ??osal_nv_write?relay,00H
        EXTERN ??osal_set_event?relay
        FUNCTION ??osal_set_event?relay,00H
        EXTERN ??osal_start_timerEx?relay
        FUNCTION ??osal_start_timerEx?relay,00H
        EXTERN ??osal_stop_timerEx?relay
        FUNCTION ??osal_stop_timerEx?relay,00H
        EXTERN AF_DataRequest
        FUNCTION AF_DataRequest,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 149, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ControlStepMotor
        FUNCTION ControlStepMotor,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN DisplaySmg
        FUNCTION DisplaySmg,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN HalLcdWriteString
        FUNCTION HalLcdWriteString,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN HalLedBlink
        FUNCTION HalLedBlink,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 140, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN HalLedSet
        FUNCTION HalLedSet,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN HalUARTOpen
        FUNCTION HalUARTOpen,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 29, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN HalUARTRead
        FUNCTION HalUARTRead,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 140, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN HalUARTWrite
        FUNCTION HalUARTWrite,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 33, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN NLME_GetShortAddr
        FUNCTION NLME_GetShortAddr,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN RegisterForKeys
        FUNCTION RegisterForKeys,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDO_ParseEPListRsp
        FUNCTION ZDO_ParseEPListRsp,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDO_RegisterForZDOMsg
        FUNCTION ZDO_RegisterForZDOMsg,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDP_EndDeviceBindReq
        FUNCTION ZDP_EndDeviceBindReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 29, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN afDataReqMTU
        FUNCTION afDataReqMTU,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN afRegister
        FUNCTION afRegister,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_GetSystemClock
        FUNCTION osal_GetSystemClock,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_mem_free
        FUNCTION osal_mem_free,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_msg_deallocate
        FUNCTION osal_msg_deallocate,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_msg_receive
        FUNCTION osal_msg_receive,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_nv_item_init
        FUNCTION osal_nv_item_init,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_nv_read
        FUNCTION osal_nv_read,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_nv_write
        FUNCTION osal_nv_write,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_set_event
        FUNCTION osal_set_event,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_start_timerEx
        FUNCTION osal_start_timerEx,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_stop_timerEx
        FUNCTION osal_stop_timerEx,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN zgDeviceLogicalType

// E:\ZSTACK-GTAMODBUS-v1.0£¨Û³ÎÄ£©\Projects\zstack\Utilities\Transmit\Source\TransmitApp.c
//    1 /**************************************************************************************************
//    2   Filename:       TransmitApp.c
//    3   Revised:        $Date: 2012-03-05 09:54:49 -0800 (Mon, 05 Mar 2012) $
//    4   Revision:       $Revision: 29619 $
//    5 
//    6   Description:    Transmit Application (no Profile).
//    7 
//    8 
//    9   Copyright 2004-2012 Texas Instruments Incorporated. All rights reserved.
//   10 
//   11   IMPORTANT: Your use of this Software is limited to those specific rights
//   12   granted under the terms of a software license agreement between the user
//   13   who downloaded the software, his/her employer (which must be your employer)
//   14   and Texas Instruments Incorporated (the "License"). You may not use this
//   15   Software unless you agree to abide by the terms of the License. The License
//   16   limits your use, and you acknowledge, that the Software may not be modified,
//   17   copied or distributed unless embedded on a Texas Instruments microcontroller
//   18   or used solely and exclusively in conjunction with a Texas Instruments radio
//   19   frequency transceiver, which is integrated into your product. Other than for
//   20   the foregoing purpose, you may not use, reproduce, copy, prepare derivative
//   21   works of, modify, distribute, perform, display or sell this Software and/or
//   22   its documentation for any purpose.
//   23 
//   24   YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
//   25   PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
//   26   INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
//   27   NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
//   28   TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
//   29   NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
//   30   LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
//   31   INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
//   32   OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
//   33   OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
//   34   (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
//   35 
//   36   Should you have any questions regarding your right to use this Software,
//   37   contact Texas Instruments Incorporated at www.TI.com.
//   38 **************************************************************************************************/
//   39 
//   40 /*********************************************************************
//   41   This application will send a data packet to another
//   42   tranmitApp device as fast as it can.  The receiving
//   43   transmitApp device will calculate the following transmit
//   44   rate statistics:
//   45     - Number bytes in the last second
//   46     - Number of seconds running
//   47     - Average number of bytes per second
//   48     - Number of packets received.
//   49 
//   50   The application will send one message and as soon as it
//   51   receives the confirmation for that message it will send
//   52   the next message.
//   53 
//   54   If you would like a delay between messages
//   55   define TRANSMITAPP_DELAY_SEND and set the delay amount
//   56   in TRANSMITAPP_SEND_DELAY.
//   57 
//   58   TransmitApp_MaxDataLength defines the message size
//   59 
//   60   Set TRANSMITAPP_TX_OPTIONS to AF_MSG_ACK_REQUEST to send
//   61   the message expecting an APS ACK, this will decrease your
//   62   throughput.  Set TRANSMITAPP_TX_OPTIONS to 0 for no
//   63   APS ACK.
//   64 
//   65   This applications doesn't have a profile, so it handles
//   66   everything directly - itself.
//   67 
//   68   Key control:
//   69     SW1:  Starts and stops the transmitting
//   70     SW2:  initiates end device binding
//   71     SW3:  Resets the display totals
//   72     SW4:  initiates a match description request
//   73 
//   74   Notes:
//   75 
//   76     This application was intended to be used to test the maximum
//   77     throughput between 2 devices in a network - between routers
//   78     coordinators.
//   79 
//   80     Although not recommended, it can be used between
//   81     an end device and a router (or coordinator), but you must
//   82     enable the delay feature (TRANSMITAPP_DELAY_SEND and
//   83     TRANSMITAPP_SEND_DELAY).  If you don't include the delay, the
//   84     end device can't receive messages because it will stop polling.
//   85     Also, the delay must be greater than RESPONSE_POLL_RATE (default 100 MSec).
//   86 *********************************************************************/
//   87 
//   88 /*********************************************************************
//   89  * INCLUDES
//   90  */
//   91 #include "OSAL.h"
//   92 #include "AF.h"
//   93 #include "ZDObject.h"
//   94 #include "ZDProfile.h"
//   95 
//   96 #include "TransmitApp.h"

        ASEGN SFR_AN:DATA:NOROOT,080H
// union <unnamed> volatile __sfr _A_P0
_A_P0:
        DATA8
        DS 1

        ASEGN SFR_AN:DATA:NOROOT,090H
// union <unnamed> volatile __sfr _A_P1
_A_P1:
        DATA8
        DS 1

        ASEGN SFR_AN:DATA:NOROOT,0a0H
// union <unnamed> volatile __sfr _A_P2
_A_P2:
        DATA8
        DS 1

        ASEGN SFR_AN:DATA:NOROOT,0b4H
// unsigned char volatile __sfr ADCCON1
ADCCON1:
        DATA8
        DS 1

        ASEGN SFR_AN:DATA:NOROOT,0b6H
// unsigned char volatile __sfr ADCCON3
ADCCON3:
        DATA8
        DS 1

        ASEGN SFR_AN:DATA:NOROOT,0baH
// unsigned char volatile __sfr ADCL
ADCL:
        DATA8
        DS 1

        ASEGN SFR_AN:DATA:NOROOT,0bbH
// unsigned char volatile __sfr ADCH
ADCH:
        DATA8
        DS 1

        ASEGN SFR_AN:DATA:NOROOT,0f3H
// unsigned char volatile __sfr P0SEL
P0SEL:
        DATA8
        DS 1

        ASEGN SFR_AN:DATA:NOROOT,0f4H
// unsigned char volatile __sfr P1SEL
P1SEL:
        DATA8
        DS 1

        ASEGN SFR_AN:DATA:NOROOT,0f5H
// unsigned char volatile __sfr P2SEL
P2SEL:
        DATA8
        DS 1

        ASEGN SFR_AN:DATA:NOROOT,0fdH
// unsigned char volatile __sfr P0DIR
P0DIR:
        DATA8
        DS 1

        ASEGN SFR_AN:DATA:NOROOT,0feH
// unsigned char volatile __sfr P1DIR
P1DIR:
        DATA8
        DS 1

        ASEGN SFR_AN:DATA:NOROOT,0ffH
// unsigned char volatile __sfr P2DIR
P2DIR:
        DATA8
        DS 1
//   97 #include "OnBoard.h"
//   98 
//   99 #include "DebugTrace.h"
//  100 
//  101 /* HAL */
//  102 #include "hal_lcd.h"
//  103 #include "hal_led.h"
//  104 #include "hal_key.h"
//  105 #include "hal_uart.h"
//  106 
//  107 #include "OSAL_NV.h"
//  108 
//  109 #include "ZComDef.h"
//  110 #include "sapi.h"//
//  111 
//  112 #include "hal_types.h"
//  113 
//  114 #if defined(GTA_WTHSB_R1)
//  115 #include "hal_sht11.h"
//  116 #endif
//  117 
//  118 #if defined(GTA_WHFRFID_R1)
//  119 #include "WHFRFID.h"
//  120 #endif
//  121 #include <string.h>
//  122 
//  123 #if defined GTA_WMSCB_R1
//  124 #include "ControlModule.h"
//  125 #endif
//  126 /*********************************************************************
//  127  * MACROS
//  128  */
//  129 
//  130 /*********************************************************************
//  131  * CONSTANTS
//  132  */
//  133 //#define TRANSMITAPP_RANDOM_LEN
//  134 
//  135 #define TRANSMITAPP_STATE_WAITING 0
//  136 #define TRANSMITAPP_STATE_SENDING 1
//  137 
//  138 #if !defined ( RTR_NWK )
//  139   // Use these 2 lines to add a delay between each packet sent
//  140   //  - default for end devices
//  141   #define TRANSMITAPP_DELAY_SEND
//  142   #define TRANSMITAPP_SEND_DELAY    (RESPONSE_POLL_RATE * 2)  // in MSecs
//  143 #endif
//  144 
//  145 // Send with or without APS ACKs
//  146 //#define TRANSMITAPP_TX_OPTIONS    (AF_DISCV_ROUTE | AF_ACK_REQUEST)
//  147 #define TRANSMITAPP_TX_OPTIONS    AF_DISCV_ROUTE
//  148 
//  149 #define TRANSMITAPP_INITIAL_MSG_COUNT  2
//  150 
//  151 #define TRANSMITAPP_TRANSMIT_TIME   4  // 4 MS
//  152 #define TRANSMITAPP_DISPLAY_TIMER   (2 * 1000)
//  153 
//  154 #if defined ( TRANSMITAPP_FRAGMENTED )
//  155 #define TRANSMITAPP_MAX_DATA_LEN    225
//  156 #else
//  157 #define TRANSMITAPP_MAX_DATA_LEN    102
//  158 #endif
//  159 
//  160 /*********************************************************************
//  161  * TYPEDEFS
//  162  */
//  163 
//  164 /*********************************************************************
//  165  * GLOBAL VARIABLES
//  166  */
//  167 
//  168 
//  169 // This is the buffer that is sent out as data.

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  170 byte TransmitApp_Msg[ TRANSMITAPP_MAX_DATA_LEN ];
TransmitApp_Msg:
        DS 102
        REQUIRE __INIT_XDATA_Z
//  171 
//  172 // This is the Cluster ID List and should be filled with Application
//  173 // specific cluster IDs.

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA16
//  174 const cId_t TransmitApp_ClusterList[TRANSMITAPP_MAX_CLUSTERS] =
TransmitApp_ClusterList:
        DW 161
//  175 {
//  176   TRANSMITAPP_CLUSTERID_TESTMSG  // MSG Cluster ID
//  177 };
//  178 

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
//  179 const SimpleDescriptionFormat_t TransmitApp_SimpleDesc =
TransmitApp_SimpleDesc:
        DB 1
        DATA16
        DW 3845
        DW 1
        DATA8
        DB 0
        DB 1
        DATA16
        DW TransmitApp_ClusterList
        DATA8
        DB 1
        DATA16
        DW TransmitApp_ClusterList
//  180 {
//  181   TRANSMITAPP_ENDPOINT,              //  int    Endpoint;
//  182   TRANSMITAPP_PROFID,                //  uint16 AppProfId[2];
//  183   TRANSMITAPP_DEVICEID,              //  uint16 AppDeviceId[2];
//  184   TRANSMITAPP_DEVICE_VERSION,        //  int    AppDevVer:4;
//  185   TRANSMITAPP_FLAGS,                 //  int    AppFlags:4;
//  186   TRANSMITAPP_MAX_CLUSTERS,          //  byte   AppNumInClusters;
//  187   (cId_t *)TransmitApp_ClusterList,  //  byte   *pAppInClusterList;
//  188   TRANSMITAPP_MAX_CLUSTERS,          //  byte   AppNumInClusters;
//  189   (cId_t *)TransmitApp_ClusterList   //  byte   *pAppInClusterList;
//  190 };
//  191 
//  192 // This is the Endpoint/Interface description.  It is defined here, but
//  193 // filled-in in TransmitApp_Init().  Another way to go would be to fill
//  194 // in the structure here and make it a "const" (in code space).  The
//  195 // way it's defined in this sample app it is define in RAM.

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  196 endPointDesc_t TransmitApp_epDesc;
TransmitApp_epDesc:
        DS 6
        REQUIRE __INIT_XDATA_Z
//  197 
//  198 /*********************************************************************
//  199  * EXTERNAL VARIABLES
//  200  */
//  201 
//  202 /*********************************************************************
//  203  * EXTERNAL FUNCTIONS
//  204  */
//  205 
//  206 /*********************************************************************
//  207  * LOCAL VARIABLES
//  208  */
//  209 
//  210 // Task ID for event processing - received when TransmitApp_Init() is called.

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  211 byte TransmitApp_TaskID;
TransmitApp_TaskID:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  212 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  213 devStates_t TransmitApp_NwkState;
TransmitApp_NwkState:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  214 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  215 static byte TransmitApp_TransID;  // This is the unique message ID (counter)
TransmitApp_TransID:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  216 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  217 afAddrType_t TransmitApp_DstAddr;
TransmitApp_DstAddr:
        DS 12
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  218 afAddrType_t TestDirectSent_DstAddr;
TestDirectSent_DstAddr:
        DS 12
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  219 byte TransmitApp_State;
TransmitApp_State:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  220 
//  221 // Shadow of the OSAL system clock used for calculating actual time expired.

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA32
//  222 static uint32 clkShdw;
clkShdw:
        DS 4
        REQUIRE __INIT_XDATA_Z
//  223 // Running total count of test messages recv/sent since beginning current run.

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA32
//  224 static uint32 rxTotal, txTotal;
rxTotal:
        DS 4
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA32
txTotal:
        DS 4
        REQUIRE __INIT_XDATA_Z
//  225 // Running count of test messages recv/sent since last display / update - 1 Hz.

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA32
//  226 static uint32 rxAccum, txAccum;
rxAccum:
        DS 4
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA32
txAccum:
        DS 4
        REQUIRE __INIT_XDATA_Z
//  227 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  228 static byte timerOn;
timerOn:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  229 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  230 static byte timesToSend;
timesToSend:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  231 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
//  232 uint16 pktCounter;
pktCounter:
        DS 2
        REQUIRE __INIT_XDATA_Z
//  233 
//  234 // Max Data Request Length

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
//  235 uint16 TransmitApp_MaxDataLength;
TransmitApp_MaxDataLength:
        DS 2
        REQUIRE __INIT_XDATA_Z
//  236 

        RSEG XDATA_I:XDATA:NOROOT(0)
//  237 uint8   NativeAddr=0x01;
NativeAddr:
        DATA8
        DS 1
        REQUIRE `?<Initializer for NativeAddr>`
        REQUIRE __INIT_XDATA_I
//  238 
//  239 #if defined(GTA_DEBUG)
//  240 uint8 Test_Mark=0;
//  241 uint8 Test_Buf[15];
//  242 #endif
//  243 
//  244 #if defined(GTA_WTHSB_R1)
//  245 
//  246 char temp_val[2];
//  247 char humi_val[2];
//  248 static uint8 readTempHumi(void);
//  249 #endif
//  250 
//  251 #if defined(GTA_WMSCB_R1)
//  252 
//  253 #endif
//  254 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  255 uint8 Flag_ReportData=0;
Flag_ReportData:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  256 
//  257 /*********************************************************************
//  258  * LOCAL FUNCTIONS
//  259  */
//  260 void TransmitApp_ProcessZDOMsgs( zdoIncomingMsg_t *inMsg );
//  261 void TransmitApp_HandleKeys( byte shift, byte keys );
//  262 void TransmitApp_MessageMSGCB( afIncomingMSGPacket_t *pckt );
//  263 void TransmitApp_ProcessZDOIncomingMsgs( zdoIncomingMsg_t *inMsg );//microdjg
//  264 void TransmitApp_SendTheMessage( void );
//  265 void TransmitApp_ChangeState( void );
//  266 
//  267 void ReportData(ModBusFrame_t *pRxFrame);
//  268 uint16 FramePackage(uint8 *pFrame,uint8 addr,uint8 cmd,uint8 *data,uint16 datalen);
//  269 uint16 ReadADC(uint8 channel);
//  270 void SendDataRequest(uint8 *pBuf,uint16 len);
//  271 
//  272 /*********************************************************************
//  273  * NETWORK LAYER CALLBACKS
//  274  */
//  275 
//  276 /*********************************************************************
//  277  * PUBLIC FUNCTIONS
//  278  */
//  279 void TransmitApp_DisplayResults( void );
//  280 
//  281 /*********************************************************************
//  282  * @fn      TransmitApp_Init
//  283  *
//  284  * @brief   Initialization function for the Generic App Task.
//  285  *          This is called during initialization and should contain
//  286  *          any application specific initialization (ie. hardware
//  287  *          initialization/setup, table initialization, power up
//  288  *          notificaiton ... ).
//  289  *
//  290  * @param   task_id - the ID assigned by OSAL.  This ID should be
//  291  *                    used to send messages and set timers.
//  292  *
//  293  * @return  none
//  294  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  295 void TransmitApp_Init( byte task_id )
TransmitApp_Init:
          CFI Block cfiBlock0 Using cfiCommon0
          CFI Function TransmitApp_Init
        CODE
//  296 {
        FUNCALL TransmitApp_Init, initUart
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_Init, osal_nv_item_init
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_Init, osal_nv_read
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_Init, HalLcdWriteString
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_Init, afRegister
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_Init, RegisterForKeys
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_Init, afDataReqMTU
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_Init, ZDO_RegisterForZDOMsg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_Init, ZDO_RegisterForZDOMsg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_Init, ZDO_RegisterForZDOMsg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 2
        MOV     A,#-0x2
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 12)
        MOV     A,R1
        MOV     R6,A
//  297 #if !defined ( TRANSMITAPP_FRAGMENTED )
//  298   afDataReqMTU_t mtu;
//  299 #endif
//  300   uint16 i;
//  301   
//  302   #if defined(GTA_WTHSB_R1)
//  303   Hal_SHT11_Init();
//  304   s_connectionreset();
//  305   #endif
//  306 /*#if defined (HX_18B20_R1)
//  307   P0SEL &= 0x00;
//  308 #endif*/
//  309   
//  310   
//  311   initUart(uartRxCB);//microdjg
        ; Setup parameters for call to function initUart
        MOV     R2,#??uartRxCB?relay & 0xff
        MOV     R3,#(??uartRxCB?relay >> 8) & 0xff
        LCALL   ??initUart?relay
//  312   osal_nv_item_init(ZCD_NV_NATIVE_ADDRESS,sizeof(NativeAddr),NULL);
        ; Setup parameters for call to function osal_nv_item_init
        CLR     A
        MOV     ?V0 + 0,A
        MOV     ?V0 + 1,A
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 14)
        MOV     R4,#0x1
        MOV     R5,#0x0
        MOV     R2,#0x1
        MOV     R3,#0x4
        LCALL   ??osal_nv_item_init?relay
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 12)
//  313   osal_nv_read(ZCD_NV_NATIVE_ADDRESS,0,sizeof(NativeAddr),&NativeAddr);
        ; Setup parameters for call to function osal_nv_read
        MOV     ?V0 + 0,#NativeAddr & 0xff
        MOV     ?V0 + 1,#(NativeAddr >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 14)
        MOV     ?V0 + 0,#0x1
        MOV     ?V0 + 1,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 16)
        MOV     R4,#0x0
        MOV     R5,#0x0
        MOV     R2,#0x1
        MOV     R3,#0x4
        LCALL   ??osal_nv_read?relay
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 12)
//  314   
//  315   TransmitApp_TaskID = task_id;
        MOV     A,R6
        MOV     DPTR,#TransmitApp_TaskID
        MOVX    @DPTR,A
//  316   TransmitApp_NwkState = DEV_INIT;
        MOV     DPTR,#TransmitApp_NwkState
        MOV     A,#0x1
        MOVX    @DPTR,A
//  317   TransmitApp_TransID = 0;
        MOV     DPTR,#TransmitApp_TransID
        CLR     A
        MOVX    @DPTR,A
//  318 
//  319   pktCounter = 0;
        MOV     DPTR,#pktCounter
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    @DPTR,A
//  320 
//  321   TransmitApp_State = TRANSMITAPP_STATE_WAITING;
        MOV     DPTR,#TransmitApp_State
        MOVX    @DPTR,A
//  322 
//  323   // Device hardware initialization can be added here or in main() (Zmain.c).
//  324   // If the hardware is application specific - add it here.
//  325   // If the hardware is other parts of the device add it in main().
//  326 
//  327   TransmitApp_DstAddr.addrMode = (afAddrMode_t)AddrNotPresent;//°ó¶¨·¢
        MOV     DPTR,#TransmitApp_DstAddr + 8
        MOVX    @DPTR,A
//  328   TransmitApp_DstAddr.endPoint = 0;
        INC     DPTR
        MOVX    @DPTR,A
//  329   TransmitApp_DstAddr.addr.shortAddr = 0;//ÎÞËùÎ½
        MOV     DPTR,#TransmitApp_DstAddr
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    @DPTR,A
//  330 
//  331   // Fill out the endpoint description.
//  332   TransmitApp_epDesc.endPoint = TRANSMITAPP_ENDPOINT;
        MOV     DPTR,#TransmitApp_epDesc
        INC     A
        MOVX    @DPTR,A
//  333   TransmitApp_epDesc.task_id = &TransmitApp_TaskID;
        INC     DPTR
        MOV     A,#TransmitApp_TaskID & 0xff
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#(TransmitApp_TaskID >> 8) & 0xff
        MOVX    @DPTR,A
//  334   TransmitApp_epDesc.simpleDesc
//  335             = (SimpleDescriptionFormat_t *)&TransmitApp_SimpleDesc;
        INC     DPTR
        MOV     A,#TransmitApp_SimpleDesc & 0xff
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#(TransmitApp_SimpleDesc >> 8) & 0xff
        LCALL   ??Subroutine17_0 & 0xFFFF
//  336   TransmitApp_epDesc.latencyReq = noLatencyReqs;
//  337   
//  338   
//  339   
//  340   //if(ZG_DEVICE_COORDINATOR_TYPE)
//  341   //{
//  342     //HalLcdInit();
//  343     //HalLcd_HW_WriteLine(HAL_LCD_LINE_1,"GTA Zigbee Test");
//  344     HalLcdWriteString( "GTA Zigbee", HAL_LCD_LINE_1 );
??CrossCallReturnLabel_16:
        ; Setup parameters for call to function HalLcdWriteString
        MOV     R1,#0x1
        MOV     R2,#`?<Constant "GTA Zigbee">` & 0xff
        MOV     R3,#(`?<Constant "GTA Zigbee">` >> 8) & 0xff
        LCALL   ??HalLcdWriteString?relay
//  345   //}
//  346 
//  347 
//  348   // Register the endpoint/interface description with the AF
//  349   afRegister( &TransmitApp_epDesc );
        ; Setup parameters for call to function afRegister
        MOV     R2,#TransmitApp_epDesc & 0xff
        MOV     R3,#(TransmitApp_epDesc >> 8) & 0xff
        LCALL   ??afRegister?relay
//  350 
//  351   // Register for all key events - This app will handle all key events
//  352   RegisterForKeys( TransmitApp_TaskID );
        ; Setup parameters for call to function RegisterForKeys
        MOV     DPTR,#TransmitApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??RegisterForKeys?relay
//  353 
//  354   // Update the display
//  355 #if defined ( LCD_SUPPORTED )
//  356   HalLcdWriteString( "TransmitApp", HAL_LCD_LINE_2 );
//  357 #endif
//  358 
//  359   // Set the data length
//  360 #if defined ( TRANSMITAPP_FRAGMENTED )
//  361   TransmitApp_MaxDataLength = TRANSMITAPP_MAX_DATA_LEN;
//  362 #else
//  363   mtu.kvp        = FALSE;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        CLR     A
        MOVX    @DPTR,A
//  364   mtu.aps.secure = FALSE;
        INC     A
        LCALL   ?XSTACK_DISP0_8
        CLR     A
        LCALL   ?Subroutine6 & 0xFFFF
//  365   TransmitApp_MaxDataLength = afDataReqMTU( &mtu );
??CrossCallReturnLabel_0:
        LCALL   ??afDataReqMTU?relay
        MOV     A,R1
        MOV     DPTR,#TransmitApp_MaxDataLength
        LCALL   ??Subroutine17_0 & 0xFFFF
//  366 #endif
//  367 
//  368   // Generate the data
//  369   for (i=0; i<TransmitApp_MaxDataLength; i++)
??CrossCallReturnLabel_19:
        MOV     R0,A
        SJMP    ??TransmitApp_Init_0
//  370   {
//  371     TransmitApp_Msg[i] = (uint8) i;
??TransmitApp_Init_1:
        MOV     A,#TransmitApp_Msg & 0xff
        ADD     A,R0
        MOV     DPL,A
        MOV     A,#(TransmitApp_Msg >> 8) & 0xff
        ADDC    A,R1
        MOV     DPH,A
        MOV     A,R0
        MOVX    @DPTR,A
//  372   }
        ADD     A,#0x1
        INC     R0
        MOV     A,R1
        ADDC    A,#0x0
??TransmitApp_Init_0:
        MOV     R1,A
        MOV     DPTR,#TransmitApp_MaxDataLength
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        CLR     C
        MOV     A,R0
        SUBB    A,R2
        MOV     A,R1
        SUBB    A,R3
        JC      ??TransmitApp_Init_1
//  373 
//  374   ZDO_RegisterForZDOMsg( TransmitApp_TaskID, End_Device_Bind_rsp );
        ; Setup parameters for call to function ZDO_RegisterForZDOMsg
        MOV     R2,#0x20
        MOV     R3,#-0x80
        MOV     DPTR,#TransmitApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??ZDO_RegisterForZDOMsg?relay
//  375   ZDO_RegisterForZDOMsg( TransmitApp_TaskID, Match_Desc_rsp );
        ; Setup parameters for call to function ZDO_RegisterForZDOMsg
        MOV     R2,#0x6
        MOV     R3,#-0x80
        MOV     DPTR,#TransmitApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??ZDO_RegisterForZDOMsg?relay
//  376   ZDO_RegisterForZDOMsg( TransmitApp_TaskID,TRANSMITAPP_CLUSTERID_TESTMSG);
        ; Setup parameters for call to function ZDO_RegisterForZDOMsg
        MOV     R2,#-0x5f
        MOV     R3,#0x0
        MOV     DPTR,#TransmitApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??ZDO_RegisterForZDOMsg?relay
//  377   
//  378 #if defined (HX_18B20_R1)
//  379   osal_start_timerEx( TransmitApp_TaskID, TRANSMITAPP_START_REPORT_EVT, 1000);
//  380   Flag_ReportData = true;
//  381 #endif
//  382 #if defined GTA_WMSCB_R1
//  383   NativeAddr = 0x22;  //ÉèÖÃ¿ØÖÆÄ£¿éµÄZigBeeµØÖ·
        MOV     DPTR,#NativeAddr
        MOV     A,#0x22
        MOVX    @DPTR,A
//  384 #endif
//  385 
//  386 }
        MOV     A,#0x2
          CFI EndBlock cfiBlock0
        REQUIRE ?Subroutine5
        ; // Fall through to label ?Subroutine5

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine5:
          CFI Block cfiBlock1 Using cfiCommon0
          CFI NoFunction
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 12)
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI Invalid
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 10)
          CFI Valid
        LJMP    ??Subroutine16_0 & 0xFFFF
          CFI EndBlock cfiBlock1
//  387 
//  388 /*********************************************************************
//  389  * @fn      TransmitApp_ProcessEvent
//  390  *
//  391  * @brief   Generic Application Task event processor.  This function
//  392  *          is called to process all events for the task.  Events
//  393  *          include timers, messages and any other user defined events.
//  394  *
//  395  * @param   task_id  - The OSAL assigned task ID.
//  396  * @param   events - events to process.  This is a bit map and can
//  397  *                   contain more than one event.
//  398  *
//  399  * @return  none
//  400  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  401 UINT16 TransmitApp_ProcessEvent( byte task_id, UINT16 events )
TransmitApp_ProcessEvent:
          CFI Block cfiBlock2 Using cfiCommon0
          CFI Function TransmitApp_ProcessEvent
        CODE
//  402 {
        FUNCALL TransmitApp_ProcessEvent, osal_msg_receive
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessEvent, osal_msg_deallocate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessEvent, osal_msg_receive
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessEvent, TransmitApp_ProcessZDOMsgs
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessEvent, TransmitApp_HandleKeys
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessEvent, osal_GetSystemClock
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessEvent, TransmitApp_SetSendEvt
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessEvent, TransmitApp_SendTheMessage
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessEvent, TransmitApp_SetSendEvt
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessEvent, TransmitApp_DisplayResults
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessEvent, SendBindRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessEvent, HalLedBlink
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 0
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
//  403   afIncomingMSGPacket_t *MSGpkt;
//  404   afDataConfirm_t *afDataConfirm;
//  405   (void)task_id;  // Intentionally unreferenced parameter
//  406 
//  407   // Data Confirmation message fields
//  408   ZStatus_t sentStatus;
//  409   byte sentEP;
//  410   
//  411 
//  412   
//  413   uint8 Frame[20];//ÁÙÊ±Éè¶¨µÄ´óÐ¡
//  414   uint8 data[10];//
//  415   uint16 i=0,j=0;
//  416   uint8 led=0;
//  417   uint16 temp;
//  418   uint16 FrameLen;
//  419   
//  420 
//  421   if ( events & SYS_EVENT_MSG )
        ANL     A,#0x80
        JNZ     $+5
        LJMP    ??TransmitApp_ProcessEvent_0 & 0xFFFF
//  422   {
//  423     MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( TransmitApp_TaskID );
        ; Setup parameters for call to function osal_msg_receive
        SJMP    ??TransmitApp_ProcessEvent_1
//  424     while ( MSGpkt )
//  425     {
//  426       switch ( MSGpkt->hdr.event )
//  427       {
//  428         case ZDO_CB_MSG:
//  429           TransmitApp_ProcessZDOMsgs( (zdoIncomingMsg_t *)MSGpkt );
//  430           break;
//  431 
//  432         case KEY_CHANGE:
//  433           TransmitApp_HandleKeys( ((keyChange_t *)MSGpkt)->state, ((keyChange_t *)MSGpkt)->keys );
//  434           break;
//  435 
//  436         case AF_DATA_CONFIRM_CMD:
//  437           // This message is received as a confirmation of a data packet sent.
//  438           // The status is of ZStatus_t type [defined in ZComDef.h]
//  439           // The message fields are defined in AF.h
//  440           afDataConfirm = (afDataConfirm_t *)MSGpkt;
//  441           sentEP = afDataConfirm->endpoint;
//  442           sentStatus = afDataConfirm->hdr.status;
//  443 
//  444           if ( (ZSuccess == sentStatus) &&
//  445                (TransmitApp_epDesc.endPoint == sentEP) )
//  446           {
//  447 #if !defined ( TRANSMITAPP_RANDOM_LEN )
//  448             txAccum += TransmitApp_MaxDataLength;
//  449 #endif
//  450             if ( !timerOn )
//  451             {
//  452               osal_start_timerEx( TransmitApp_TaskID,TRANSMITAPP_RCVTIMER_EVT,
//  453                                                      TRANSMITAPP_DISPLAY_TIMER);
//  454               clkShdw = osal_GetSystemClock();
//  455               timerOn = TRUE;
//  456             }
//  457           }
//  458 
//  459           // Action taken when confirmation is received: Send the next message.
//  460           TransmitApp_SetSendEvt();
//  461           break;
//  462 
//  463         case AF_INCOMING_MSG_CMD:
//  464           TransmitApp_MessageMSGCB( MSGpkt );
//  465           
//  466           break;
//  467 
//  468         case ZDO_STATE_CHANGE:
//  469           TransmitApp_NwkState = (devStates_t)(MSGpkt->hdr.status);
??TransmitApp_ProcessEvent_2:
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPTR,#TransmitApp_NwkState
        MOVX    @DPTR,A
//  470 
//  471           break;
//  472 
//  473         default:
//  474           break;
//  475       }
//  476 
//  477       // Release the memory
//  478       osal_msg_deallocate( (uint8 *)MSGpkt );
??TransmitApp_ProcessEvent_3:
        ; Setup parameters for call to function osal_msg_deallocate
        MOV     R2,?V0 + 0
        MOV     R3,?V0 + 1
        LCALL   ??osal_msg_deallocate?relay
//  479 
//  480       // Next
//  481       MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( TransmitApp_TaskID );
        ; Setup parameters for call to function osal_msg_receive
??TransmitApp_ProcessEvent_1:
        MOV     DPTR,#TransmitApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_msg_receive?relay
        MOV     ?V0 + 0,R2
        MOV     ?V0 + 1,R3
        MOV     A,?V0 + 0
        ORL     A,?V0 + 1
        JNZ     $+5
        LJMP    ??TransmitApp_ProcessEvent_4 & 0xFFFF
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        MOVX    A,@DPTR
        ADD     A,#0x40
        JZ      ??TransmitApp_ProcessEvent_5
        ADD     A,#-0x11
        JZ      ??TransmitApp_ProcessEvent_2
        ADD     A,#-0x2
        JZ      ??TransmitApp_ProcessEvent_6
        ADD     A,#-0x2a
        JZ      ??TransmitApp_ProcessEvent_7
        SJMP    ??TransmitApp_ProcessEvent_3
??TransmitApp_ProcessEvent_6:
        ; Setup parameters for call to function TransmitApp_ProcessZDOMsgs
        MOV     R2,?V0 + 0
        MOV     R3,?V0 + 1
        LCALL   ??TransmitApp_ProcessZDOMsgs?relay
        SJMP    ??TransmitApp_ProcessEvent_3
??TransmitApp_ProcessEvent_5:
        ; Setup parameters for call to function TransmitApp_HandleKeys
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??TransmitApp_HandleKeys?relay
        SJMP    ??TransmitApp_ProcessEvent_3
??TransmitApp_ProcessEvent_7:
        INC     DPTR
        MOVX    A,@DPTR
        JNZ     ??TransmitApp_ProcessEvent_8
        MOV     DPTR,#TransmitApp_epDesc
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,R0
        JNZ     ??TransmitApp_ProcessEvent_8
        MOV     DPTR,#TransmitApp_MaxDataLength
        MOVX    A,@DPTR
        MOV     ?V0 + 4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 5,A
        CLR     A
        MOV     ?V0 + 6,A
        MOV     ?V0 + 7,A
        MOV     DPTR,#txAccum
        MOV     R0,#?V0 + 4
        LCALL   ?L_ADD_TO_X
        MOV     DPTR,#timerOn
        MOVX    A,@DPTR
        JNZ     ??TransmitApp_ProcessEvent_8
        ; Setup parameters for call to function osal_start_timerEx
        MOV     R4,#-0x30
        MOV     R5,#0x7
        MOV     R2,#0x2
        MOV     R3,#0x0
        MOV     DPTR,#TransmitApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_start_timerEx?relay
        ; Setup parameters for call to function osal_GetSystemClock
        LCALL   ??osal_GetSystemClock?relay
        MOV     DPTR,#clkShdw
        LCALL   ?XSTORE_R2345
        MOV     DPTR,#timerOn
        MOV     A,#0x1
        MOVX    @DPTR,A
??TransmitApp_ProcessEvent_8:
        ; Setup parameters for call to function TransmitApp_SetSendEvt
        LCALL   ??TransmitApp_SetSendEvt?relay
        LJMP    ??TransmitApp_ProcessEvent_3 & 0xFFFF
//  482     }
//  483 
//  484     // Squash compiler warnings until values are used.
//  485     (void)sentStatus;
//  486     (void)sentEP;
//  487 
//  488     // Return unprocessed events
//  489     return (events ^ SYS_EVENT_MSG);
??TransmitApp_ProcessEvent_4:
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        XRL     A,#0x80
        SJMP    ??TransmitApp_ProcessEvent_9
//  490   }
//  491 
//  492   // Send a message out
//  493   if ( events & TRANSMITAPP_SEND_MSG_EVT )
??TransmitApp_ProcessEvent_0:
        MOV     A,R6
        MOV     C,0xE0 /* A   */.0
        JNC     ??TransmitApp_ProcessEvent_10
//  494   {
//  495     if ( TransmitApp_State == TRANSMITAPP_STATE_SENDING )
        MOV     DPTR,#TransmitApp_State
        MOVX    A,@DPTR
        XRL     A,#0x1
        JNZ     ??TransmitApp_ProcessEvent_11
//  496     {
//  497       TransmitApp_SendTheMessage();
        ; Setup parameters for call to function TransmitApp_SendTheMessage
        LCALL   ??TransmitApp_SendTheMessage?relay
//  498     }
//  499 
//  500     // Return unprocessed events
//  501     return (events ^ TRANSMITAPP_SEND_MSG_EVT);
??TransmitApp_ProcessEvent_11:
        MOV     A,R6
        XRL     A,#0x1
        SJMP    ??TransmitApp_ProcessEvent_12
//  502   }
//  503 
//  504   // Timed wait from error
//  505   if ( events & TRANSMITAPP_SEND_ERR_EVT )
??TransmitApp_ProcessEvent_10:
        ANL     A,#0x4
        JZ      ??TransmitApp_ProcessEvent_13
//  506   {
//  507     TransmitApp_SetSendEvt();
        ; Setup parameters for call to function TransmitApp_SetSendEvt
        LCALL   ??TransmitApp_SetSendEvt?relay
//  508 
//  509     // Return unprocessed events
//  510     return (events ^ TRANSMITAPP_SEND_ERR_EVT);
        MOV     A,R6
        XRL     A,#0x4
        SJMP    ??TransmitApp_ProcessEvent_12
//  511   }
//  512 
//  513   // Receive timer
//  514   if ( events & TRANSMITAPP_RCVTIMER_EVT )
??TransmitApp_ProcessEvent_13:
        MOV     A,R6
        ANL     A,#0x2
        JZ      ??TransmitApp_ProcessEvent_14
//  515   {
//  516     // Setup to display the next result
//  517     osal_start_timerEx( TransmitApp_TaskID, TRANSMITAPP_RCVTIMER_EVT,
//  518                                             TRANSMITAPP_DISPLAY_TIMER );
        ; Setup parameters for call to function osal_start_timerEx
        MOV     R4,#-0x30
        MOV     R5,#0x7
        MOV     R2,#0x2
        MOV     R3,#0x0
        MOV     DPTR,#TransmitApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_start_timerEx?relay
//  519     TransmitApp_DisplayResults();
        ; Setup parameters for call to function TransmitApp_DisplayResults
        LCALL   ??TransmitApp_DisplayResults?relay
//  520 
//  521     return (events ^ TRANSMITAPP_RCVTIMER_EVT);
        MOV     A,R6
        XRL     A,#0x2
        SJMP    ??TransmitApp_ProcessEvent_12
//  522   }
//  523   if ( events & TRANSMITAPP_BIND_REQUEST_EVT)//microdjg
??TransmitApp_ProcessEvent_14:
        MOV     A,R6
        ANL     A,#0x8
        JZ      ??TransmitApp_ProcessEvent_15
//  524   {
//  525     SendBindRequest();//×Ô¶¯¿ªÊ¼°ó¶¨ microdjg
        ; Setup parameters for call to function SendBindRequest
        LCALL   ??SendBindRequest?relay
//  526     //osal_start_timerEx( TransmitApp_TaskID, TRANSMITAPP_BIND_REQUEST_EVT,3000 );
//  527     return (events ^ TRANSMITAPP_BIND_REQUEST_EVT);
        MOV     A,R6
        XRL     A,#0x8
        SJMP    ??TransmitApp_ProcessEvent_12
//  528   }
//  529   
//  530   
//  531   if ( events & TRANSMITAPP_START_REPORT_EVT )
??TransmitApp_ProcessEvent_15:
        MOV     A,R6
        ANL     A,#0x10
        JZ      ??TransmitApp_ProcessEvent_16
//  532   {
//  533     if(Flag_ReportData)
        MOV     DPTR,#Flag_ReportData
        MOVX    A,@DPTR
        JZ      ??TransmitApp_ProcessEvent_17
//  534       {
//  535         osal_start_timerEx( TransmitApp_TaskID, TRANSMITAPP_START_REPORT_EVT, 1000);
        ; Setup parameters for call to function osal_start_timerEx
        MOV     R4,#-0x18
        MOV     R5,#0x3
        MOV     R2,#0x10
        MOV     R3,#0x0
        MOV     DPTR,#TransmitApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_start_timerEx?relay
//  536       }
//  537     HalLedBlink(HAL_LED_1,1,50,300);
??TransmitApp_ProcessEvent_17:
        ; Setup parameters for call to function HalLedBlink
        MOV     R4,#0x2c
        MOV     R5,#0x1
        MOV     R3,#0x32
        MOV     R2,#0x1
        MOV     R1,#0x1
        LCALL   ??HalLedBlink?relay
//  538     
//  539     
//  540     
//  541     
//  542     #if defined ( GTA_WWSB_R1 )||(GTA_WFSB_R1) //´«¸ÐÆ÷   
//  543     temp=ReadADC(4);//¶ÁµçÑ¹Öµ
//  544     data[0]=1;
//  545     if(temp>3000)
//  546       data[1]=0x01;
//  547     else
//  548       data[1]=0x00;
//  549     //data[1]=LO_UINT16(temp);
//  550     //data[2]=HI_UINT16(temp);
//  551 #if defined GTA_WWSB_R1
//  552     NativeAddr = 0x11;//ÓêµÎ´«¸ÐÆ÷µØÖ·
//  553 #elif defined GTA_WFSB_R1
//  554     NativeAddr = 0x16;//»ðÑæ´«¸ÐÆ÷µØÖ·
//  555 #endif
//  556     FrameLen=FramePackage(Frame,NativeAddr,0x03,data,2);//´ò°ü
//  557     SendDataRequest(Frame,FrameLen);//·¢ËÍ
//  558     #endif
//  559     
//  560     
//  561     #if defined (GTA_WVSB_R1)||(GTA_WIRSB_R1)
//  562     temp=ReadADC(4);
//  563     data[0]=1;
//  564     if(temp>3000)
//  565       data[1]=0x00;
//  566     else
//  567       data[1]=0x01;
//  568 #if defined GTA_WVSB_R1
//  569     NativeAddr = 0x13;//Çã½Ç´«¸ÐÆ÷µØÖ·
//  570 #elif defined GTA_WIRSB_R1
//  571     NativeAddr = 0x15;//ºìÍâ´«¸ÐÆ÷µØÖ·
//  572 #endif
//  573     FrameLen=FramePackage(Frame,NativeAddr,0x03,data,2);//´ò°ü
//  574     SendDataRequest(Frame,FrameLen);//·¢ËÍ
//  575     #endif
//  576     
//  577     #if defined ( GTA_WUSB_R1 )
//  578     IO_DIR_PORT_PIN(0, 6, IO_IN);
//  579     data[0]=1;
//  580     if(IO_SENSOR)
//  581       data[1]=0x01;
//  582     else
//  583       data[1]=0x00;
//  584     FrameLen=FramePackage(Frame,NativeAddr,0x03,data,2);//´ò°ü
//  585     SendDataRequest(Frame,FrameLen);//·¢ËÍ
//  586     #endif
//  587     
//  588     #if defined (GTA_WISB_R1)
//  589     temp=ReadADC(4);//
//  590     data[0]=2;
//  591     data[1]=LO_UINT16(temp);
//  592     data[2]=HI_UINT16(temp);
//  593     NativeAddr = 0x14;//¹âÕÕ´«¸ÐÆ÷µØÖ·
//  594     FrameLen=FramePackage(Frame,NativeAddr,0x03,data,3);//´ò°ü
//  595     SendDataRequest(Frame,FrameLen);//·¢ËÍ
//  596     #endif
//  597     
//  598     
//  599     #if defined ( GTA_WTHSB_R1 ) //ÎÂÊª¶È´«¸ÐÆ÷  
//  600     
//  601     readTempHumi();
//  602     data[0]=4;
//  603     data[1]=humi_val[0];//L
//  604     data[2]=humi_val[1];//H
//  605     data[3]=temp_val[0];
//  606     data[4]=temp_val[1];
//  607     NativeAddr = 0x12;//ÎÂÊª¶È´«¸ÐÆ÷µØÖ·
//  608     FrameLen=FramePackage(Frame,NativeAddr,0x03,data,5);//´ò°ü
//  609     SendDataRequest(Frame,FrameLen);//·¢ËÍ
//  610     HalUARTWrite(HAL_UART_PORT_0, Frame, FrameLen);
//  611     
//  612     #endif
//  613     
//  614     //¿ÉÈ¼ÆøÌåCombustible gas¡¢¾Æ¾«Alcohol¡¢ÑÌÎíSmoke
//  615 #if defined ( HX_WCGSB_R1 ) || (HX_ALCOHOL_SENSOR) || (HX_SMOKE_SENSOR)
//  616     IO_DIR_PORT_PIN(0, 1, IO_IN);
//  617     data[0]=1;
//  618     if(IO_COMBUSTIBLE_GAS_PORT)
//  619       data[1] = 1;
//  620     else
//  621       data[1] = 0;
//  622 #if defined HX_SMOKE_SENSOR
//  623     NativeAddr = 0x21;//ÑÌÎí´«¸ÐÆ÷µØÖ·
//  624 #elif defined HX_ALCOHOL_SENSOR
//  625     NativeAddr = 0x20;//¾Æ¾«´«¸ÐÆ÷µØÖ·
//  626 #elif defined HX_WCGSB_R1
//  627     NativeAddr = 0x18;//¿ÉÈ¼ÆøÌå´«¸ÐÆ÷µØÖ·
//  628 #endif
//  629     FrameLen=FramePackage(Frame,NativeAddr,0x03,data,2);//´ò°ü
//  630     SendDataRequest(Frame,FrameLen);//·¢ËÍ
//  631 #endif
//  632     
//  633 #if defined ( HX_18B20_R1 )
//  634     uint8* pTempData;
//  635     read_data();
//  636     pTempData = DataChange();
//  637     data[0]=4;
//  638     data[1]=*pTempData++;//temperature H
//  639     data[2]=*pTempData;//temperature L
//  640     NativeAddr = 0x19;//ÉèÖÃ18b20µÄZigBeeµØÖ·Îª19h
//  641     FrameLen=FramePackage(Frame,NativeAddr,0x03,data,3);//´ò°ü
//  642     SendDataRequest(Frame,FrameLen);//·¢ËÍ
//  643     HalUARTWrite(HAL_UART_PORT_0, Frame, FrameLen);
//  644 #endif
//  645     
//  646     
//  647     return (events ^ TRANSMITAPP_START_REPORT_EVT);
        MOV     A,R6
        XRL     A,#0x10
??TransmitApp_ProcessEvent_12:
        MOV     R2,A
        MOV     A,R7
??TransmitApp_ProcessEvent_9:
        MOV     R3,A
        SJMP    ??TransmitApp_ProcessEvent_18
//  648   }
//  649   
//  650   
//  651 
//  652   // Discard unknown events
//  653   return 0;
??TransmitApp_ProcessEvent_16:
        MOV     R2,#0x0
        MOV     R3,#0x0
          CFI EndBlock cfiBlock2
??TransmitApp_ProcessEvent_18:
        REQUIRE ?Subroutine1
        ; // Fall through to label ?Subroutine1
//  654 }

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine1:
          CFI Block cfiBlock3 Using cfiCommon0
          CFI NoFunction
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 16)
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        MOV     R7,#0x8
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock3
//  655 
//  656 /*********************************************************************
//  657  * Event Generation Functions
//  658  */
//  659 /*********************************************************************
//  660  * @fn      TransmitApp_ProcessZDOMsgs()
//  661  *
//  662  * @brief   Process response messages
//  663  *
//  664  * @param   none
//  665  *
//  666  * @return  none
//  667  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  668 void TransmitApp_ProcessZDOMsgs( zdoIncomingMsg_t *inMsg )
TransmitApp_ProcessZDOMsgs:
          CFI Block cfiBlock4 Using cfiCommon0
          CFI Function TransmitApp_ProcessZDOMsgs
        CODE
//  669 {
        FUNCALL TransmitApp_ProcessZDOMsgs, HalLedSet
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessZDOMsgs, osal_stop_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessZDOMsgs, HalLedBlink
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessZDOMsgs, ZDO_ParseEPListRsp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessZDOMsgs, HalLedSet
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessZDOMsgs, osal_mem_free
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessZDOMsgs, TransmitApp_ProcessZDOIncomingMsgs
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessZDOMsgs, HalLedBlink
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 0
//  670   switch ( inMsg->clusterID )
        MOV     A,R2
        ADD     A,#0xc
        MOV     DPL,A
        MOV     A,R3
        LCALL   ??Subroutine19_0 & 0xFFFF
??CrossCallReturnLabel_23:
        MOV     ?V0 + 0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 1,A
        MOV     R0,#?V0 + 0
        LCALL   ?US_SWITCH_SPARSE
`?<Jumptable for TransmitApp_ProcessZDOMsgs>_0`:
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        0
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        3
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        161
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        ??TransmitApp_ProcessZDOMsgs_0
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        32774
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        ??TransmitApp_ProcessZDOMsgs_1
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        32800
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        ??TransmitApp_ProcessZDOMsgs_2
        DATA
        DATA16
        DATA
        DATA16
        DW        ??TransmitApp_ProcessZDOMsgs_3
        CODE
//  671   {
//  672     case End_Device_Bind_rsp:
//  673       if ( ZDO_ParseBindRsp( inMsg ) == ZSuccess )
??TransmitApp_ProcessZDOMsgs_2:
        MOV     A,R2
        ADD     A,#0x13
        MOV     DPL,A
        MOV     A,R3
        LCALL   ?Subroutine10 & 0xFFFF
??CrossCallReturnLabel_7:
        JNZ     ??TransmitApp_ProcessZDOMsgs_4
//  674       {
//  675         // Light LED
//  676         HalLedSet( HAL_LED_4, HAL_LED_MODE_ON );
        ; Setup parameters for call to function HalLedSet
        MOV     R2,#0x1
        MOV     R1,#0x8
        LCALL   ??HalLedSet?relay
//  677         osal_stop_timerEx( TransmitApp_TaskID, TRANSMITAPP_BIND_REQUEST_EVT );
        ; Setup parameters for call to function osal_stop_timerEx
        MOV     R2,#0x8
        MOV     R3,#0x0
        MOV     DPTR,#TransmitApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_stop_timerEx?relay
        SJMP    ??TransmitApp_ProcessZDOMsgs_3
//  678 
//  679       }
//  680 #if defined(BLINK_LEDS)
//  681       else
//  682       {
//  683         // Flash LED to show failure
//  684         //HalLedSet ( HAL_LED_2, HAL_LED_MODE_FLASH );//4
//  685         HalLedBlink(HAL_LED_2,1,50,1000);//Ö¸Ê¾°ó¶¨ÓÐÎó
??TransmitApp_ProcessZDOMsgs_4:
        ; Setup parameters for call to function HalLedBlink
        MOV     R4,#-0x18
        MOV     R5,#0x3
        MOV     R3,#0x32
        MOV     R2,#0x1
        MOV     R1,#0x2
        SJMP    ??TransmitApp_ProcessZDOMsgs_5
//  686       }
//  687 #endif
//  688       break;
//  689 
//  690     case Match_Desc_rsp:
//  691       {
//  692         ZDO_ActiveEndpointRsp_t *pRsp = ZDO_ParseEPListRsp( inMsg );
??TransmitApp_ProcessZDOMsgs_1:
        ; Setup parameters for call to function ZDO_ParseEPListRsp
        LCALL   ??ZDO_ParseEPListRsp?relay
        MOV     ?V0 + 0,R2
        MOV     ?V0 + 1,R3
        MOV     R6,?V0 + 0
        MOV     R7,?V0 + 1
//  693         if ( pRsp )
        MOV     A,R6
        ORL     A,R7
        JZ      ??TransmitApp_ProcessZDOMsgs_3
//  694         {
//  695           if ( pRsp->status == ZSuccess && pRsp->cnt )
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        JNZ     ??TransmitApp_ProcessZDOMsgs_6
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        JZ      ??TransmitApp_ProcessZDOMsgs_6
//  696           {
//  697             TransmitApp_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
        MOV     DPTR,#TransmitApp_DstAddr + 8
        MOV     A,#0x2
        LCALL   ?Subroutine9 & 0xFFFF
//  698             TransmitApp_DstAddr.addr.shortAddr = pRsp->nwkAddr;
??CrossCallReturnLabel_4:
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     DPTR,#TransmitApp_DstAddr
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        LCALL   ?Subroutine9 & 0xFFFF
//  699             // Take the first endpoint, Can be changed to search through endpoints
//  700             TransmitApp_DstAddr.endPoint = pRsp->epList[0];
??CrossCallReturnLabel_5:
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPTR,#TransmitApp_DstAddr + 9
        MOVX    @DPTR,A
//  701 
//  702             // Light LED
//  703             HalLedSet( HAL_LED_4, HAL_LED_MODE_ON );
        ; Setup parameters for call to function HalLedSet
        MOV     R2,#0x1
        MOV     R1,#0x8
        LCALL   ??HalLedSet?relay
//  704           }
//  705           osal_mem_free( pRsp );
??TransmitApp_ProcessZDOMsgs_6:
        ; Setup parameters for call to function osal_mem_free
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   ??osal_mem_free?relay
        SJMP    ??TransmitApp_ProcessZDOMsgs_3
//  706         }
//  707       }
//  708       break;
//  709       
//  710   case TRANSMITAPP_CLUSTERID_TESTMSG://microdjg
//  711     {  
//  712       //osal_set_event( TransmitApp_TaskID, AF_INCOMING_MSG_CMD );///
//  713       TransmitApp_ProcessZDOIncomingMsgs(inMsg);
??TransmitApp_ProcessZDOMsgs_0:
        ; Setup parameters for call to function TransmitApp_ProcessZDOIncomingMsgs
        LCALL   ??TransmitApp_ProcessZDOIncomingMsgs?relay
//  714       HalLedBlink(HAL_LED_4,1,50,500);///
        ; Setup parameters for call to function HalLedBlink
        MOV     R4,#-0xc
        MOV     R5,#0x1
        MOV     R3,#0x32
        MOV     R2,#0x1
        MOV     R1,#0x8
??TransmitApp_ProcessZDOMsgs_5:
        LCALL   ??HalLedBlink?relay
//  715     }
//  716   }
//  717 }
??TransmitApp_ProcessZDOMsgs_3:
        LJMP    ??Subroutine16_0 & 0xFFFF
          CFI EndBlock cfiBlock4
//  718 
//  719 /*********************************************************************
//  720  * @fn      TransmitApp_HandleKeys
//  721  *
//  722  * @brief   Handles all key events for this device.
//  723  *
//  724  * @param   shift - true if in shift/alt.
//  725  * @param   keys - bit field for key events. Valid entries:
//  726  *                 EVAL_SW4
//  727  *                 EVAL_SW3
//  728  *                 EVAL_SW2
//  729  *                 EVAL_SW1
//  730  *
//  731  * @return  none
//  732  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  733 void TransmitApp_HandleKeys( byte shift, byte keys )
TransmitApp_HandleKeys:
          CFI Block cfiBlock5 Using cfiCommon0
          CFI Function TransmitApp_HandleKeys
        CODE
//  734 {
        FUNCALL TransmitApp_HandleKeys, HalLedBlink
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_HandleKeys, osal_set_event
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
        MOV     A,R2
        MOV     R6,A
//  735   //zAddrType_t dstAddr;
//  736       
//  737     if ( keys == HAL_KEY_INT_1)
        MOV     A,#-0x1f
        XRL     A,R6
        JNZ     ??TransmitApp_HandleKeys_0
//  738     {
//  739       #if defined(GTA_DEBUG)
//  740       Test_Mark=0x01;
//  741       Test_Buf[0] = 0x99;
//  742       Test_Buf[1] = 0x88;
//  743       Test_Buf[2] = 0x77;
//  744       Test_Buf[3] = 0x66;
//  745       HalUARTWrite(HAL_UART_PORT_0,Test_Buf,15);
//  746       #endif
//  747       Flag_ReportData=!Flag_ReportData;
        MOV     DPTR,#Flag_ReportData
        MOVX    A,@DPTR
        JNZ     ??TransmitApp_HandleKeys_1
        MOV     A,#0x1
        SJMP    ??TransmitApp_HandleKeys_2
??TransmitApp_HandleKeys_1:
        CLR     A
??TransmitApp_HandleKeys_2:
        MOVX    @DPTR,A
//  748       HalLedBlink (HAL_LED_1, 1, 50, 100);
        ; Setup parameters for call to function HalLedBlink
        MOV     R4,#0x64
        MOV     R5,#0x0
        MOV     R3,#0x32
        MOV     R2,#0x1
        MOV     R1,#0x1
        LCALL   ??HalLedBlink?relay
//  749       if(Flag_ReportData)
        MOV     DPTR,#Flag_ReportData
        MOVX    A,@DPTR
        JZ      ??TransmitApp_HandleKeys_0
//  750       {
//  751         //osal_start_timerEx( TransmitApp_TaskID, TRANSMITAPP_START_REPORT_EVT, 2000);
//  752         osal_set_event( TransmitApp_TaskID, TRANSMITAPP_START_REPORT_EVT );
        ; Setup parameters for call to function osal_set_event
        MOV     R2,#0x10
        MOV     R3,#0x0
        MOV     DPTR,#TransmitApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_set_event?relay
          CFI EndBlock cfiBlock5
//  753       }
//  754     }
//  755  //}
//  756 }
??TransmitApp_HandleKeys_0:
        REQUIRE ?Subroutine2
        ; // Fall through to label ?Subroutine2

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine2:
          CFI Block cfiBlock6 Using cfiCommon0
          CFI NoFunction
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 9)
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock6
//  757 
//  758 /*********************************************************************
//  759  * LOCAL FUNCTIONS
//  760  */
//  761 
//  762 /*********************************************************************
//  763  * @fn      TransmitApp_MessageMSGCB
//  764  *
//  765  * @brief   Data message processor callback.  This function processes
//  766  *          any incoming data - probably from other devices.  So, based
//  767  *          on cluster ID, perform the intended action.
//  768  *
//  769  * @param   none
//  770  *
//  771  * @return  none
//  772  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  773 void TransmitApp_MessageMSGCB( afIncomingMSGPacket_t *pkt )
TransmitApp_MessageMSGCB:
          CFI Block cfiBlock7 Using cfiCommon0
          CFI Function TransmitApp_MessageMSGCB
        CODE
//  774 {
        ; Saved register size: 0
        ; Auto size: 0
//  775   uint16 i;
//  776   uint8 error = FALSE;
//  777 //HalLedBlink (HAL_LED_2, 1, 50, 300);
//  778 //HalUARTWrite(HAL_UART_PORT_0,pkt->cmd.Data,pkt->cmd.DataLength);//microdjg
//  779   switch ( pkt->clusterId )
//  780   {
//  781     case TRANSMITAPP_CLUSTERID_TESTMSG:
//  782       
//  783       //HalUARTWrite(HAL_UART_PORT_0,pkt->cmd.Data,pkt->cmd.DataLength);//microdjg
//  784       //HalLedBlink ( HAL_LED_2, 1, 50, 300 );//Blink to indicate RX
//  785       break;
//  786   default:break;
//  787   }
//  788 }
        LJMP    ?BRET
          CFI EndBlock cfiBlock7
//  789 

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  790 void TransmitApp_ProcessZDOIncomingMsgs( zdoIncomingMsg_t *inMsg )
TransmitApp_ProcessZDOIncomingMsgs:
          CFI Block cfiBlock8 Using cfiCommon0
          CFI Function TransmitApp_ProcessZDOIncomingMsgs
        CODE
//  791 {
        FUNCALL TransmitApp_ProcessZDOIncomingMsgs, HalLedBlink
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 33, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 33, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessZDOIncomingMsgs, HalUARTWrite
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 33, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 33, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessZDOIncomingMsgs, FrameUnPackage
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 33, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 33, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_ProcessZDOIncomingMsgs, ReportData
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 33, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 33, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 24
        MOV     A,#-0x18
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 33)
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
//  792     ModBusFrame_t RxFrame;
//  793     uint16 temp;
//  794     //uint8 recdatabuf[20];
//  795     HalLedBlink (HAL_LED_2, 1, 50, 300);
        ; Setup parameters for call to function HalLedBlink
        MOV     R4,#0x2c
        MOV     R5,#0x1
        MOV     R3,#0x32
        MOV     R2,#0x1
        MOV     R1,#0x2
        LCALL   ??HalLedBlink?relay
//  796     uint8 i;
//  797     //#if defined(GTA_DEBUG)
//  798     //  uint8 i;
//  799     //#endif
//  800     
//  801     //HalUARTWrite(HAL_UART_PORT_0,inMsg->asdu,inMsg->asduLen);//²âÊÔ
//  802     
//  803     if(ZG_DEVICE_COORDINATOR_TYPE)
        MOV     DPTR,#zgDeviceLogicalType
        MOVX    A,@DPTR
        JNZ     ??TransmitApp_ProcessZDOIncomingMsgs_0
//  804     {
//  805       
//  806       if(inMsg->asduLen!=0&&inMsg->asdu[0]!=0)
        LCALL   ?Subroutine13 & 0xFFFF
??CrossCallReturnLabel_26:
        JZ      ??TransmitApp_ProcessZDOIncomingMsgs_1
        MOV     A,R6
        ADD     A,#0x13
        MOV     DPL,A
        MOV     A,R7
        LCALL   ?Subroutine10 & 0xFFFF
??CrossCallReturnLabel_8:
        JZ      ??TransmitApp_ProcessZDOIncomingMsgs_1
//  807       {/*
//  808         for(i=0;i<inMsg->asduLen;i++)
//  809         {
//  810           recdatabuf[i]=inMsg->asdu[i];
//  811         } 
//  812         HalUARTWrite(HAL_UART_PORT_0,recdatabuf,inMsg->asduLen);
//  813         */
//  814         HalUARTWrite(HAL_UART_PORT_0,inMsg->asdu,inMsg->asduLen);
        ; Setup parameters for call to function HalUARTWrite
        LCALL   ?Subroutine13 & 0xFFFF
//  815       }
//  816       
//  817       //HalUARTWrite(HAL_UART_PORT_0,recdatabuf,inMsg->asduLen);
//  818       #if defined(GTA_DEBUG)
//  819       if(Test_Mark==0x01)
//  820       {
//  821         for(i=0;i<15;i++)
//  822         {
//  823           Test_Buf[i]=0;
//  824         }
//  825         for(i=0;i<inMsg->asduLen;i++)
//  826         {
//  827           Test_Buf[i]=inMsg->asdu[i];
//  828         }
//  829         Test_Mark=0;
//  830       }
//  831       
//  832       #endif
//  833     }
??CrossCallReturnLabel_27:
        MOV     R4,A
        MOV     R5,#0x0
        LCALL   ?Subroutine12 & 0xFFFF
??CrossCallReturnLabel_12:
        MOV     R1,#0x0
        LCALL   ??HalUARTWrite?relay
        SJMP    ??TransmitApp_ProcessZDOIncomingMsgs_1
//  834     else
//  835     {
//  836       FrameUnPackage(inMsg->asdu,&RxFrame);//check Package
??TransmitApp_ProcessZDOIncomingMsgs_0:
        ; Setup parameters for call to function FrameUnPackage
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R4,DPL
        MOV     R5,DPH
        LCALL   ?Subroutine12 & 0xFFFF
??CrossCallReturnLabel_13:
        LCALL   ??FrameUnPackage?relay
//  837       if(RxFrame.COMFIRM==FRAME_CHECK_RIGHT)
        MOV     A,#0x17
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        XRL     A,#0x1
        JNZ     ??TransmitApp_ProcessZDOIncomingMsgs_1
//  838       {
//  839         ReportData(&RxFrame);
        ; Setup parameters for call to function ReportData
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??ReportData?relay
//  840         
//  841       }
//  842     } 
//  843     
//  844 }
??TransmitApp_ProcessZDOIncomingMsgs_1:
        MOV     A,#0x18
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 9)
        SJMP    ?Subroutine2
          CFI EndBlock cfiBlock8

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine12:
          CFI Block cfiCond9 Using cfiCommon0
          CFI Function TransmitApp_ProcessZDOIncomingMsgs
          CFI Conditional ??CrossCallReturnLabel_12
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 33)
          CFI Block cfiCond10 Using cfiCommon0
          CFI (cfiCond10) Function TransmitApp_ProcessZDOIncomingMsgs
          CFI (cfiCond10) Conditional ??CrossCallReturnLabel_13
          CFI (cfiCond10) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond10) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond10) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond10) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond10) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond10) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond10) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond10) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond10) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond10) CFA_SP SP+0
          CFI (cfiCond10) CFA_XSP16 add(XSP16, 33)
          CFI Block cfiPicker11 Using cfiCommon1
          CFI (cfiPicker11) NoFunction
          CFI (cfiPicker11) Picker
        MOV     A,R6
        ADD     A,#0x13
        LCALL   ?Subroutine15 & 0xFFFF
??CrossCallReturnLabel_32:
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        RET
          CFI EndBlock cfiCond9
          CFI EndBlock cfiCond10
          CFI EndBlock cfiPicker11

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine10:
          CFI Block cfiCond12 Using cfiCommon0
          CFI Function TransmitApp_ProcessZDOMsgs
          CFI Conditional ??CrossCallReturnLabel_7
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
          CFI Block cfiCond13 Using cfiCommon0
          CFI (cfiCond13) Function TransmitApp_ProcessZDOIncomingMsgs
          CFI (cfiCond13) Conditional ??CrossCallReturnLabel_8
          CFI (cfiCond13) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond13) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond13) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond13) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond13) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond13) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond13) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond13) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond13) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond13) CFA_SP SP+0
          CFI (cfiCond13) CFA_XSP16 add(XSP16, 33)
          CFI Block cfiPicker14 Using cfiCommon1
          CFI (cfiPicker14) NoFunction
          CFI (cfiPicker14) Picker
        LCALL   ??Subroutine18_0 & 0xFFFF
??CrossCallReturnLabel_29:
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        RET
          CFI EndBlock cfiCond12
          CFI EndBlock cfiCond13
          CFI EndBlock cfiPicker14
//  845 
//  846 /*********************************************************************
//  847  * @fn      TransmitApp_SendTheMessage
//  848  *
//  849  * @brief   Send "the" message.
//  850  *
//  851  * @param   none
//  852  *
//  853  * @return  none
//  854  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  855 void TransmitApp_SendTheMessage( void )
TransmitApp_SendTheMessage:
          CFI Block cfiBlock15 Using cfiCommon0
          CFI Function TransmitApp_SendTheMessage
        CODE
//  856 {
        FUNCALL TransmitApp_SendTheMessage, AF_DataRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_SendTheMessage, HalLedBlink
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_SendTheMessage, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 0
//  857   uint16 len;
//  858   uint8 tmp;
//  859 
//  860   do {
//  861     // put the sequence number in the message
//  862     tmp = HI_UINT8( TransmitApp_TransID );
??TransmitApp_SendTheMessage_0:
        MOV     DPTR,#TransmitApp_TransID
        MOVX    A,@DPTR
        SWAP    A
        ANL     A,#0xf
        MOV     R6,A
//  863     tmp += (tmp <= 9) ? ('0') : ('A' - 0x0A);
        CLR     C
        SUBB    A,#0xa
        JNC     ??TransmitApp_SendTheMessage_1
        MOV     R0,#0x30
        SJMP    ??TransmitApp_SendTheMessage_2
??TransmitApp_SendTheMessage_1:
        MOV     R0,#0x37
//  864     TransmitApp_Msg[2] = tmp;
??TransmitApp_SendTheMessage_2:
        MOV     A,R0
        ADD     A,R6
        MOV     DPTR,#TransmitApp_Msg + 2
        MOVX    @DPTR,A
//  865     tmp = LO_UINT8( TransmitApp_TransID );
        MOV     DPTR,#TransmitApp_TransID
        MOVX    A,@DPTR
        ANL     A,#0xf
        MOV     R6,A
//  866     tmp += (tmp <= 9) ? ('0') : ('A' - 0x0A);
        CLR     C
        SUBB    A,#0xa
        JNC     ??TransmitApp_SendTheMessage_3
        MOV     R0,#0x30
        SJMP    ??TransmitApp_SendTheMessage_4
??TransmitApp_SendTheMessage_3:
        MOV     R0,#0x37
//  867     TransmitApp_Msg[3] = tmp;
??TransmitApp_SendTheMessage_4:
        MOV     A,R0
        ADD     A,R6
        MOV     DPTR,#TransmitApp_Msg + 3
        MOVX    @DPTR,A
//  868 
//  869     len = TransmitApp_MaxDataLength;
//  870 
//  871 #if defined ( TRANSMITAPP_RANDOM_LEN )
//  872     len = (uint8)(osal_rand() & 0x7F);
//  873     if( len > TransmitApp_MaxDataLength || len == 0 )
//  874       len = TransmitApp_MaxDataLength;
//  875     else if ( len < 4 )
//  876       len = 4;
//  877 #endif
//  878 	
//  879     tmp = AF_DataRequest( &TransmitApp_DstAddr, &TransmitApp_epDesc,
//  880                            TRANSMITAPP_CLUSTERID_TESTMSG,
//  881                            len, TransmitApp_Msg,
//  882                           &TransmitApp_TransID,
//  883                            TRANSMITAPP_TX_OPTIONS,
//  884                            AF_DEFAULT_RADIUS );
        ; Setup parameters for call to function AF_DataRequest
        MOV     ?V0 + 0,#0x1e
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 11)
        MOV     ?V0 + 0,#TransmitApp_TransID & 0xff
        MOV     ?V0 + 1,#(TransmitApp_TransID >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 13)
        MOV     ?V0 + 0,#TransmitApp_Msg & 0xff
        MOV     ?V0 + 1,#(TransmitApp_Msg >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 15)
        MOV     DPTR,#TransmitApp_MaxDataLength
        LCALL   ?PUSH_XSTACK8_X_TWO
          CFI CFA_XSP16 add(XSP16, 17)
        MOV     ?V0 + 0,#-0x5f
        MOV     ?V0 + 1,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 19)
        MOV     R1,#0x20
        MOV     R4,#TransmitApp_epDesc & 0xff
        MOV     R5,#(TransmitApp_epDesc >> 8) & 0xff
        MOV     R2,#TransmitApp_DstAddr & 0xff
        MOV     R3,#(TransmitApp_DstAddr >> 8) & 0xff
        LCALL   ??AF_DataRequest?relay
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 10)
        MOV     A,R1
        MOV     R6,A
//  885     HalLedBlink ( HAL_LED_3, 1, 50, 200 );//Blink to indicate TX  microdjg
        ; Setup parameters for call to function HalLedBlink
        MOV     R4,#-0x38
        MOV     R5,#0x0
        MOV     R3,#0x32
        MOV     R2,#0x1
        MOV     R1,#0x4
        LCALL   ??HalLedBlink?relay
//  886 
//  887 #if defined ( TRANSMITAPP_RANDOM_LEN )
//  888     if ( tmp == afStatus_SUCCESS )
//  889     {
//  890       txAccum += len;
//  891     }
//  892 #endif
//  893 
//  894     if ( timesToSend )
        MOV     DPTR,#timesToSend
        MOVX    A,@DPTR
        JZ      ??TransmitApp_SendTheMessage_5
//  895     {
//  896       timesToSend--;
//  897     }
//  898   } while ( (timesToSend != 0) && (afStatus_SUCCESS == tmp) );
        DEC     A
        MOVX    @DPTR,A
        JZ      ??TransmitApp_SendTheMessage_5
        MOV     A,R6
        JNZ     $+5
        LJMP    ??TransmitApp_SendTheMessage_0 & 0xFFFF
//  899 
//  900   if ( afStatus_SUCCESS == tmp )
??TransmitApp_SendTheMessage_5:
        MOV     A,R6
        JNZ     ??TransmitApp_SendTheMessage_6
//  901   {
//  902     pktCounter++;
        MOV     DPTR,#pktCounter
        MOVX    A,@DPTR
        ADD     A,#0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOVX    @DPTR,A
        SJMP    ??TransmitApp_SendTheMessage_7
//  903   }
//  904   else
//  905   {
//  906     // Error, so wait (10 mSec) and try again.
//  907     osal_start_timerEx( TransmitApp_TaskID, TRANSMITAPP_SEND_ERR_EVT, 10 );
??TransmitApp_SendTheMessage_6:
        ; Setup parameters for call to function osal_start_timerEx
        MOV     R4,#0xa
        MOV     R5,#0x0
        MOV     R2,#0x4
        MOV     R3,#0x0
        MOV     DPTR,#TransmitApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_start_timerEx?relay
//  908   }
//  909 }
??TransmitApp_SendTheMessage_7:
        SJMP    ??Subroutine16_0
          CFI EndBlock cfiBlock15

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine0:
          CFI Block cfiBlock16 Using cfiCommon0
          CFI NoFunction
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        MOV     R3,#0x32
        MOV     R2,#0x1
        MOV     R1,#0x4
        LCALL   ??HalLedBlink?relay
          CFI EndBlock cfiBlock16
        REQUIRE ??Subroutine16_0
        ; // Fall through to label ??Subroutine16_0

        RSEG BANKED_CODE:CODE:NOROOT(0)
??Subroutine16_0:
          CFI Block cfiBlock17 Using cfiCommon0
          CFI NoFunction
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        MOV     R7,#0x2
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock17
//  910 
//  911 /*********************************************************************
//  912  * @fn      TransmitApp_ChangeState
//  913  *
//  914  * @brief   Toggle the Sending/Waiting state flag
//  915  *
//  916  * @param   none
//  917  *
//  918  * @return  none
//  919  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  920 void TransmitApp_ChangeState( void )
TransmitApp_ChangeState:
          CFI Block cfiBlock18 Using cfiCommon0
          CFI Function TransmitApp_ChangeState
        CODE
//  921 {
        FUNCALL TransmitApp_ChangeState, TransmitApp_SetSendEvt
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH    DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH    DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  922   if ( TransmitApp_State == TRANSMITAPP_STATE_WAITING )
        MOV     DPTR,#TransmitApp_State
        MOVX    A,@DPTR
        JNZ     ??TransmitApp_ChangeState_0
//  923   {
//  924     TransmitApp_State = TRANSMITAPP_STATE_SENDING;
        MOV     A,#0x1
        MOVX    @DPTR,A
//  925     TransmitApp_SetSendEvt();
        ; Setup parameters for call to function TransmitApp_SetSendEvt
        LCALL   ??TransmitApp_SetSendEvt?relay
//  926     timesToSend = TRANSMITAPP_INITIAL_MSG_COUNT;
        MOV     DPTR,#timesToSend
        MOV     A,#0x2
        SJMP    ??TransmitApp_ChangeState_1
//  927   }
//  928   else
//  929   {
//  930     TransmitApp_State = TRANSMITAPP_STATE_WAITING;
??TransmitApp_ChangeState_0:
        CLR     A
??TransmitApp_ChangeState_1:
        MOVX    @DPTR,A
          CFI EndBlock cfiBlock18
//  931   }
//  932 }
        REQUIRE ?Subroutine3
        ; // Fall through to label ?Subroutine3

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine3:
          CFI Block cfiBlock19 Using cfiCommon0
          CFI NoFunction
          CFI CFA_SP SP+-5
          CFI DPL0 Frame(CFA_SP, 4)
          CFI DPH0 Frame(CFA_SP, 5)
        POP     DPH
          CFI CFA_SP SP+-4
          CFI DPH0 SameValue
        POP     DPL
          CFI CFA_SP SP+-3
          CFI DPL0 SameValue
        LJMP    ?BRET
          CFI EndBlock cfiBlock19
//  933 
//  934 /*********************************************************************
//  935  * @fn      TransmitApp_SetSendEvt
//  936  *
//  937  * @brief   Set the event flag
//  938  *
//  939  * @param   none
//  940  *
//  941  * @return  none
//  942  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  943 void TransmitApp_SetSendEvt( void )
TransmitApp_SetSendEvt:
          CFI Block cfiBlock20 Using cfiCommon0
          CFI Function TransmitApp_SetSendEvt
        CODE
//  944 {
        FUNCALL TransmitApp_SetSendEvt, osal_start_timerEx
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH    DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH    DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  945 #if defined( TRANSMITAPP_DELAY_SEND )
//  946   // Adds a delay to sending the data
//  947   osal_start_timerEx( TransmitApp_TaskID,
//  948                     TRANSMITAPP_SEND_MSG_EVT, TRANSMITAPP_SEND_DELAY );
        ; Setup parameters for call to function osal_start_timerEx
        MOV     R4,#-0x38
        MOV     R5,#0x0
        MOV     R2,#0x1
        MOV     R3,#0x0
        MOV     DPTR,#TransmitApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_start_timerEx?relay
//  949 #else
//  950   // No Delay - just send the data
//  951   osal_set_event( TransmitApp_TaskID, TRANSMITAPP_SEND_MSG_EVT );
//  952 #endif
//  953 }
        SJMP    ?Subroutine3
          CFI EndBlock cfiBlock20
//  954 
//  955 /*********************************************************************
//  956  * @fn      TransmitApp_DisplayResults
//  957  *
//  958  * @brief   Display the results and clear the accumulators
//  959  *
//  960  * @param   none
//  961  *
//  962  * @return  none
//  963  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  964 void TransmitApp_DisplayResults( void )
TransmitApp_DisplayResults:
          CFI Block cfiBlock21 Using cfiCommon0
          CFI Function TransmitApp_DisplayResults
        CODE
//  965 {
        FUNCALL TransmitApp_DisplayResults, osal_GetSystemClock
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_DisplayResults, osal_GetSystemClock
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL TransmitApp_DisplayResults, osal_stop_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xc
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 12)
        ; Saved register size: 12
        ; Auto size: 0
//  966 #ifdef LCD_SUPPORTED
//  967   #define LCD_W  16
//  968   uint32 rxShdw, txShdw, tmp;
//  969   byte lcd_buf[LCD_W+1];
//  970   byte idx;
//  971 #endif
//  972 
//  973   // The OSAL timers are not real-time, so calculate the actual time expired.
//  974   uint32 msecs = osal_GetSystemClock() - clkShdw;
        ; Setup parameters for call to function osal_GetSystemClock
        LCALL   ??osal_GetSystemClock?relay
//  975   clkShdw = osal_GetSystemClock();
        ; Setup parameters for call to function osal_GetSystemClock
        LCALL   ??osal_GetSystemClock?relay
        MOV     DPTR,#clkShdw
        LCALL   ?XSTORE_R2345
//  976 
//  977   rxTotal += rxAccum;
        MOV     DPTR,#rxAccum
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     DPTR,#rxTotal
        MOV     R0,#?V0 + 0
        LCALL   ?L_ADD_TO_X
//  978   txTotal += txAccum;
        MOV     DPTR,#txAccum
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     DPTR,#txTotal
        MOV     R0,#?V0 + 0
        LCALL   ?L_ADD_TO_X
//  979 
//  980 #if defined ( LCD_SUPPORTED )
//  981   rxShdw = (rxAccum * 1000 + msecs/2) / msecs;
//  982   txShdw = (txAccum * 1000 + msecs/2) / msecs;
//  983 
//  984   osal_memset( lcd_buf, ' ', LCD_W );
//  985   lcd_buf[LCD_W] = NULL;
//  986 
//  987   idx = 4;
//  988   tmp = (rxShdw >= 100000) ? 99999 : rxShdw;
//  989   do
//  990   {
//  991     lcd_buf[idx--] = (uint8) ('0' + (tmp % 10));
//  992     tmp /= 10;
//  993   } while ( tmp );
//  994 
//  995   idx = LCD_W-1;
//  996   tmp = rxTotal;
//  997   do
//  998   {
//  999     lcd_buf[idx--] = (uint8) ('0' + (tmp % 10));
// 1000     tmp /= 10;
// 1001   } while ( tmp );
// 1002 
// 1003   HalLcdWriteString( (char*)lcd_buf, HAL_LCD_LINE_1 );
// 1004   osal_memset( lcd_buf, ' ', LCD_W );
// 1005 
// 1006   idx = 4;
// 1007   tmp = (txShdw >= 100000) ? 99999 : txShdw;
// 1008   do
// 1009   {
// 1010     lcd_buf[idx--] = (uint8) ('0' + (tmp % 10));
// 1011     tmp /= 10;
// 1012   } while ( tmp );
// 1013 
// 1014   idx = LCD_W-1;
// 1015   tmp = txTotal;
// 1016   do
// 1017   {
// 1018     lcd_buf[idx--] = (uint8) ('0' + (tmp % 10));
// 1019     tmp /= 10;
// 1020   } while ( tmp );
// 1021 
// 1022   HalLcdWriteString( (char*)lcd_buf, HAL_LCD_LINE_2 );
// 1023 
// 1024 #elif defined( MT_TASK )
// 1025   DEBUG_INFO( COMPID_APP, SEVERITY_INFORMATION, 3,
// 1026               rxAccum, (uint16)msecs, (uint16)rxTotal );
// 1027 #else
// 1028   (void)msecs;  // Not used when no output
// 1029 #endif
// 1030 
// 1031   if ( (rxAccum == 0) && (txAccum == 0) )
        MOV     DPTR,#rxAccum
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     A,?V0 + 0
        ORL     A,?V0 + 1
        ORL     A,?V0 + 2
        ORL     A,?V0 + 3
        JNZ     ??TransmitApp_DisplayResults_0
        MOV     DPTR,#txAccum
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     A,?V0 + 0
        ORL     A,?V0 + 1
        ORL     A,?V0 + 2
        ORL     A,?V0 + 3
        JNZ     ??TransmitApp_DisplayResults_0
// 1032   {
// 1033     osal_stop_timerEx( TransmitApp_TaskID, TRANSMITAPP_RCVTIMER_EVT );
        ; Setup parameters for call to function osal_stop_timerEx
        MOV     R2,#0x2
        MOV     R3,#0x0
        MOV     DPTR,#TransmitApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_stop_timerEx?relay
// 1034     timerOn = FALSE;
        MOV     DPTR,#timerOn
        CLR     A
        MOVX    @DPTR,A
// 1035   }
// 1036 
// 1037   rxAccum = txAccum = 0;
??TransmitApp_DisplayResults_0:
        MOV     DPTR,#txAccum
        CLR     A
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    @DPTR,A
        MOV     DPTR,#rxAccum
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    @DPTR,A
          CFI EndBlock cfiBlock21
// 1038 }
        REQUIRE ?Subroutine4
        ; // Fall through to label ?Subroutine4

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine4:
          CFI Block cfiBlock22 Using cfiCommon0
          CFI NoFunction
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 12)
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        MOV     R7,#0x4
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock22
// 1039 
// 1040 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1041 void initUart(halUARTCBack_t pf)
initUart:
          CFI Block cfiBlock23 Using cfiCommon0
          CFI Function initUart
        CODE
// 1042 {
        FUNCALL initUart, HalUARTOpen
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 29, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 29, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH    DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH    DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 29
        MOV     A,#-0x1d
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 29)
// 1043   halUARTCfg_t uartConfig;
// 1044   
// 1045   uartConfig.configured           = TRUE;              
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,#0x1
        MOVX    @DPTR,A
// 1046   uartConfig.baudRate             = HAL_UART_BR_9600;//HAL_UART_BR_38400;  //HAL_UART_BR_19200;
        LCALL   ?XSTACK_DISP0_8
        CLR     A
        MOVX    @DPTR,A
// 1047   uartConfig.flowControl          = FALSE;              
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        CLR     A
        MOVX    @DPTR,A
// 1048   uartConfig.flowControlThreshold = 48;
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x30
        LCALL   ??Subroutine17_0 & 0xFFFF
// 1049   uartConfig.rx.maxBufSize        = RX_BUF_LEN;
??CrossCallReturnLabel_20:
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP0_8
        LCALL   ?Subroutine8 & 0xFFFF
// 1050   uartConfig.tx.maxBufSize        = 128;
??CrossCallReturnLabel_21:
        MOV     A,#0x12
        LCALL   ?XSTACK_DISP0_8
        LCALL   ?Subroutine8 & 0xFFFF
// 1051   
// 1052   uartConfig.idleTimeout          = 6;   
??CrossCallReturnLabel_22:
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x6
        MOVX    @DPTR,A
// 1053   uartConfig.intEnable            = TRUE;              
        MOV     A,#0x16
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x1
        MOVX    @DPTR,A
// 1054   uartConfig.callBackFunc         = pf;
        MOV     A,#0x1b
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        LCALL   ?Subroutine6 & 0xFFFF
// 1055   
// 1056   HalUARTOpen (HAL_UART_PORT_0, &uartConfig);
??CrossCallReturnLabel_1:
        MOV     R1,#0x0
        LCALL   ??HalUARTOpen?relay
// 1057 }
        MOV     A,#0x1d
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 XSP16+0
        LJMP    ?Subroutine3 & 0xFFFF
          CFI EndBlock cfiBlock23

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine6:
          CFI Block cfiCond24 Using cfiCommon0
          CFI Function TransmitApp_Init
          CFI Conditional ??CrossCallReturnLabel_0
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 12)
          CFI Block cfiCond25 Using cfiCommon0
          CFI (cfiCond25) Function initUart
          CFI (cfiCond25) Conditional ??CrossCallReturnLabel_1
          CFI (cfiCond25) DPL0 Frame(CFA_SP, 4)
          CFI (cfiCond25) DPH0 Frame(CFA_SP, 5)
          CFI (cfiCond25) CFA_SP SP+-5
          CFI (cfiCond25) CFA_XSP16 add(XSP16, 29)
          CFI Block cfiPicker26 Using cfiCommon1
          CFI (cfiPicker26) NoFunction
          CFI (cfiPicker26) Picker
        MOVX    @DPTR,A
        ; Setup parameters for call to function afDataReqMTU
        ; Setup parameters for call to function HalUARTOpen
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R2,DPL
        MOV     R3,DPH
        RET
          CFI EndBlock cfiCond24
          CFI EndBlock cfiCond25
          CFI EndBlock cfiPicker26
// 1058 
// 1059 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1060 void uartRxCB( uint8 port, uint8 event )
uartRxCB:
          CFI Block cfiBlock27 Using cfiCommon0
          CFI Function uartRxCB
        CODE
// 1061 {
        FUNCALL uartRxCB, HalUARTRead
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 140, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 140, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL uartRxCB, AF_DataRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 149, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 149, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL uartRxCB, HalLedBlink
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 140, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 140, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL uartRxCB, AF_DataRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 149, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 149, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL uartRxCB, HalLedBlink
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 140, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 140, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xc
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 12)
        ; Saved register size: 12
        ; Auto size: 128
        MOV     A,#-0x80
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 140)
// 1062   uint8 pBuf[RX_BUF_LEN];
// 1063   uint16 len;
// 1064   static uint16 destAddr;
// 1065   ModBusFrame_t *pRxFrame;
// 1066   zAddrType_t dstAddr;
// 1067   #if defined (GTA_WHFRFID_R1) 
// 1068   RC623Frame_t *pRC623Frame;
// 1069   uint8 Frame[15];//ÁÙÊ±Éè¶¨µÄ´óÐ¡  
// 1070   uint8 data[10];//
// 1071   uint16 FrameLen;
// 1072   uint8 i;
// 1073   #endif
// 1074  
// 1075     len = HalUARTRead( HAL_UART_PORT_0, pBuf, RX_BUF_LEN );
        ; Setup parameters for call to function HalUARTRead
        MOV     R4,#-0x80
        MOV     R5,#0x0
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R2,DPL
        MOV     R3,DPH
        MOV     R1,#0x0
        LCALL   ??HalUARTRead?relay
        MOV     ?V0 + 0,R2
        MOV     ?V0 + 1,R3
// 1076     if ( len>0 ) 
        MOV     A,R2
        ORL     A,?V0 + 1
        JZ      ??uartRxCB_0
// 1077     {
// 1078        // HalUARTWrite(HAL_UART_PORT_0, pBuf, len);
// 1079       //SentDataInBind(pBuf,len);
// 1080       if(!ZG_DEVICE_COORDINATOR_TYPE)//·ÇÐ­µ÷Æ÷
        MOV     DPTR,#zgDeviceLogicalType
        MOVX    A,@DPTR
        MOV     DPTR,#TestDirectSent_DstAddr + 8
        JZ      ??uartRxCB_1
// 1081       {
// 1082         #if defined (GTA_WHFRFID_R1) 
// 1083         UnPackRC623Data(pBuf,pRC623Frame);
// 1084         if(pRC623Frame->Comfirm==FRAME_CHECK_RIGHT)
// 1085         {
// 1086           switch(pRC623Frame->Cmd)
// 1087           {
// 1088               case RFID_CMD_SET_ISOTYPE:
// 1089 
// 1090                 break;
// 1091               case RFID_CMD_SELECT_CARD:
// 1092 
// 1093                 break;
// 1094               case RFID_CMD_GET_CARD_ID:
// 1095                 data[0]=7;
// 1096                 data[1]=MODBUS_RFID_CMD_GET_CARD_ID&0x00FF;
// 1097                 data[2]=(MODBUS_RFID_CMD_GET_CARD_ID>>8)&0x00FF;
// 1098                 data[3]=pRC623Frame->Data[1];
// 1099                 data[4]=pRC623Frame->Data[2];
// 1100                 data[5]=pRC623Frame->Data[3];
// 1101                 data[6]=pRC623Frame->Data[4];
// 1102                 //data[4]=pRC623Frame->Data[3];
// 1103                 FrameLen=FramePackage(Frame,NativeAddr,0x03,data,7);//´ò°ü
// 1104                 SendDataRequest(Frame,FrameLen);//·¢ËÍ
// 1105                 break;
// 1106               case RFID_CMD_FIND_ISO14443_CARD:
// 1107                 //for(i=0;i<RC623Frame.DataLen;i++)
// 1108                 //{
// 1109                 //  RC623Frame.Data
// 1110                 //}
// 1111                 data[0]=5;//2+1+2
// 1112                 data[1]=MODBUS_RFID_CMD_FIND_ISO14443_CARD&0x00FF;
// 1113                 data[2]=(MODBUS_RFID_CMD_FIND_ISO14443_CARD>>8)&0x00FF;
// 1114                 data[3]=pRC623Frame->Data[0];
// 1115                 data[4]=pRC623Frame->Data[1];
// 1116                 data[5]=pRC623Frame->Data[2];
// 1117                 data[6]=pRC623Frame->Data[3];
// 1118                 FrameLen=FramePackage(Frame,NativeAddr,0x03,data,6);//´ò°ü
// 1119                 SendDataRequest(Frame,FrameLen);//·¢ËÍ
// 1120 
// 1121                 break;
// 1122               case RFID_CMD_CONFIG_KEY:
// 1123 
// 1124                 break;
// 1125               case RFID_CMD_READ_VAL:
// 1126 
// 1127                 break;
// 1128               default:
// 1129                 break;
// 1130           }
// 1131         }
// 1132         #else
// 1133         TestDirectSent_DstAddr.addrMode=(afAddrMode_t)Addr16Bit;//µØÖ·´«ËÍ
        MOV     A,#0x2
        LCALL   ??Subroutine17_0 & 0xFFFF
// 1134         TestDirectSent_DstAddr.endPoint = 0;
// 1135         TestDirectSent_DstAddr.addr.shortAddr = 0x0000;
??CrossCallReturnLabel_17:
        MOV     DPTR,#TestDirectSent_DstAddr
        SJMP    ??CrossCallReturnLabel_2
// 1136     
// 1137         AF_DataRequest( 
// 1138                       &TestDirectSent_DstAddr,               //µØÖ·
// 1139                       &TransmitApp_epDesc,                //ÃèÊö
// 1140                       TRANSMITAPP_CLUSTERID_TESTMSG,      //×å
// 1141                         len,                                  //len
// 1142                         pBuf,//TransmitApp_Msg,             //DATA
// 1143                       &TransmitApp_TransID,               //
// 1144                       TRANSMITAPP_TX_OPTIONS,
// 1145                       AF_DEFAULT_RADIUS 
// 1146                       );
// 1147         HalLedBlink (HAL_LED_3, 1, 50, 200);
// 1148         #endif
// 1149       }
// 1150       else
// 1151       {
// 1152         //destAddr=BUILD_UINT16(pBuf[1],pBuf[0]);
// 1153         if(ZG_DEVICE_COORDINATOR_TYPE)
// 1154         {
// 1155           TestDirectSent_DstAddr.addrMode=(afAddrMode_t)AddrBroadcast;//Addr16Bit;//µØÖ·´«ËÍ
??uartRxCB_1:
        LCALL   ?Subroutine7 & 0xFFFF
// 1156           TestDirectSent_DstAddr.endPoint = 0;
// 1157           TestDirectSent_DstAddr.addr.shortAddr = 0xffff;//destAddr;
??CrossCallReturnLabel_2:
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    @DPTR,A
// 1158           //TestDirectSent_DstAddr.addr.extAddr
// 1159           
// 1160           AF_DataRequest( 
// 1161                       &TestDirectSent_DstAddr,               //µØÖ·
// 1162                       &TransmitApp_epDesc,                //ÃèÊö
// 1163                       TRANSMITAPP_CLUSTERID_TESTMSG,      //×å
// 1164                         len,                                  //len
// 1165                         pBuf,//TransmitApp_Msg,             //DATA
// 1166                       &TransmitApp_TransID,               //
// 1167                       TRANSMITAPP_TX_OPTIONS,
// 1168                       AF_DEFAULT_RADIUS 
// 1169                       );
        ; Setup parameters for call to function AF_DataRequest
        MOV     ?V0 + 2,#0x1e
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 141)
        MOV     ?V0 + 2,#TransmitApp_TransID & 0xff
        MOV     ?V0 + 3,#(TransmitApp_TransID >> 8) & 0xff
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 143)
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 2,DPL
        MOV     ?V0 + 3,DPH
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 145)
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 147)
        MOV     ?V0 + 0,#-0x5f
        MOV     ?V0 + 1,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 149)
        MOV     R1,#0x20
        MOV     R4,#TransmitApp_epDesc & 0xff
        MOV     R5,#(TransmitApp_epDesc >> 8) & 0xff
        MOV     R2,#TestDirectSent_DstAddr & 0xff
        MOV     R3,#(TestDirectSent_DstAddr >> 8) & 0xff
        LCALL   ??AF_DataRequest?relay
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 140)
// 1170           HalLedBlink (HAL_LED_3, 1, 50, 200);
        ; Setup parameters for call to function HalLedBlink
        MOV     R4,#-0x38
        MOV     R5,#0x0
        MOV     R3,#0x32
        MOV     R2,#0x1
        MOV     R1,#0x4
        LCALL   ??HalLedBlink?relay
// 1171         }
// 1172       }
// 1173     }
// 1174 
// 1175 }
??uartRxCB_0:
        MOV     A,#-0x80
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 12)
        LJMP    ?Subroutine4 & 0xFFFF
          CFI EndBlock cfiBlock27

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine8:
          CFI Block cfiCond28 Using cfiCommon0
          CFI Function initUart
          CFI Conditional ??CrossCallReturnLabel_21
          CFI DPL0 Frame(CFA_SP, 4)
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
          CFI CFA_XSP16 add(XSP16, 29)
          CFI Block cfiCond29 Using cfiCommon0
          CFI (cfiCond29) Function initUart
          CFI (cfiCond29) Conditional ??CrossCallReturnLabel_22
          CFI (cfiCond29) DPL0 Frame(CFA_SP, 4)
          CFI (cfiCond29) DPH0 Frame(CFA_SP, 5)
          CFI (cfiCond29) CFA_SP SP+-5
          CFI (cfiCond29) CFA_XSP16 add(XSP16, 29)
          CFI Block cfiPicker30 Using cfiCommon1
          CFI (cfiPicker30) NoFunction
          CFI (cfiPicker30) Picker
        MOV     A,#-0x80
          CFI EndBlock cfiCond28
          CFI EndBlock cfiCond29
          CFI EndBlock cfiPicker30
        REQUIRE ??Subroutine17_0
        ; // Fall through to label ??Subroutine17_0

        RSEG BANKED_CODE:CODE:NOROOT(0)
??Subroutine17_0:
          CFI Block cfiCond31 Using cfiCommon0
          CFI Function TransmitApp_Init
          CFI Conditional ??CrossCallReturnLabel_16
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 12)
          CFI Block cfiCond32 Using cfiCommon0
          CFI (cfiCond32) Function TransmitApp_Init
          CFI (cfiCond32) Conditional ??CrossCallReturnLabel_19
          CFI (cfiCond32) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond32) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond32) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond32) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond32) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond32) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond32) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond32) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond32) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond32) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond32) CFA_SP SP+0
          CFI (cfiCond32) CFA_XSP16 add(XSP16, 12)
          CFI Block cfiCond33 Using cfiCommon0
          CFI (cfiCond33) Function initUart
          CFI (cfiCond33) Conditional ??CrossCallReturnLabel_20
          CFI (cfiCond33) DPL0 Frame(CFA_SP, 4)
          CFI (cfiCond33) DPH0 Frame(CFA_SP, 5)
          CFI (cfiCond33) CFA_SP SP+-5
          CFI (cfiCond33) CFA_XSP16 add(XSP16, 29)
          CFI Block cfiCond34 Using cfiCommon0
          CFI (cfiCond34) Function uartRxCB
          CFI (cfiCond34) Conditional ??CrossCallReturnLabel_17
          CFI (cfiCond34) R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond34) VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond34) V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond34) V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond34) V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond34) V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond34) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond34) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond34) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond34) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond34) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond34) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond34) CFA_SP SP+0
          CFI (cfiCond34) CFA_XSP16 add(XSP16, 140)
          CFI Block cfiCond35 Using cfiCommon0
          CFI (cfiCond35) Function SendDataRequest
          CFI (cfiCond35) Conditional ??CrossCallReturnLabel_18
          CFI (cfiCond35) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond35) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond35) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond35) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond35) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond35) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond35) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond35) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond35) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond35) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond35) CFA_SP SP+0
          CFI (cfiCond35) CFA_XSP16 add(XSP16, 10)
          CFI Block cfiCond36 Using cfiCommon0
          CFI (cfiCond36) Function initUart
          CFI (cfiCond36) Conditional ??CrossCallReturnLabel_21
          CFI (cfiCond36) DPL0 Frame(CFA_SP, 4)
          CFI (cfiCond36) DPH0 Frame(CFA_SP, 5)
          CFI (cfiCond36) CFA_SP SP+-5
          CFI (cfiCond36) CFA_XSP16 add(XSP16, 29)
          CFI Block cfiCond37 Using cfiCommon0
          CFI (cfiCond37) Function initUart
          CFI (cfiCond37) Conditional ??CrossCallReturnLabel_22
          CFI (cfiCond37) DPL0 Frame(CFA_SP, 4)
          CFI (cfiCond37) DPH0 Frame(CFA_SP, 5)
          CFI (cfiCond37) CFA_SP SP+-5
          CFI (cfiCond37) CFA_XSP16 add(XSP16, 29)
          CFI Block cfiPicker38 Using cfiCommon1
          CFI (cfiPicker38) NoFunction
          CFI (cfiPicker38) Picker
        MOVX    @DPTR,A
        INC     DPTR
        CLR     A
        MOVX    @DPTR,A
        RET
          CFI EndBlock cfiCond31
          CFI EndBlock cfiCond32
          CFI EndBlock cfiCond33
          CFI EndBlock cfiCond34
          CFI EndBlock cfiCond35
          CFI EndBlock cfiCond36
          CFI EndBlock cfiCond37
          CFI EndBlock cfiPicker38
// 1176 /*********************************************************************
// 1177 *********************************************************************/
// 1178 
// 1179 
// 1180 
// 1181 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1182 void FrameUnPackage(uint8 *pBuf,ModBusFrame_t *pFrame)
FrameUnPackage:
          CFI Block cfiBlock39 Using cfiCommon0
          CFI Function FrameUnPackage
        CODE
// 1183 {
        FUNCALL FrameUnPackage, Crc16Code
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 0
        MOV     ?V0 + 0,R2
        MOV     ?V0 + 1,R3
        MOV     A,R4
        MOV     R6,A
        MOV     A,R5
        MOV     R7,A
// 1184    uint16 crc;
// 1185    uint8 datalen;
// 1186    uint8 cmd;
// 1187    uint8 i;
// 1188    
// 1189    if(pBuf[0]==FRAME_HEAD)
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        XRL     A,#0x7e
        JZ      $+5
        LJMP    ??FrameUnPackage_0 & 0xFFFF
// 1190    {
// 1191    	cmd=pBuf[2];
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 5,A
// 1192 	switch(cmd)
        DEC     A
        JZ      ??FrameUnPackage_1
        ADD     A,#-0x2
        JZ      ??FrameUnPackage_1
        ADD     A,#-0x2
        JZ      ??FrameUnPackage_1
        DEC     A
        JZ      ??FrameUnPackage_1
        ADD     A,#-0x9
        JZ      ??FrameUnPackage_2
        DEC     A
        JNZ     $+5
        LJMP    ??FrameUnPackage_3 & 0xFFFF
        DEC     A
        JNZ     $+5
        LJMP    ??FrameUnPackage_4 & 0xFFFF
        DEC     A
        JNZ     $+5
        LJMP    ??FrameUnPackage_5 & 0xFFFF
        LJMP    ??FrameUnPackage_6 & 0xFFFF
// 1193 		{
// 1194 		case FUN_CODE_READ_COIL_STATE:		
// 1195 		case FUN_CODE_READ_HOLDING_REGISTERS:
// 1196 			datalen =4;
// 1197 			break;
// 1198 		case 0x05:	
// 1199 		case 0x06:
// 1200 			datalen =4;
??FrameUnPackage_1:
        MOV     ?V0 + 4,#0x4
// 1201 			break;
// 1202 		case 0x0F:
// 1203 			datalen =5+((BUILD_UINT16(pBuf[6],pBuf[5])+7)/8);//2+2+1+(N+7)/8
// 1204 			break;
// 1205 		case 0x10:
// 1206 			datalen=5+((BUILD_UINT16(pBuf[6],pBuf[5])*2));//2+2+1+2N
// 1207 			break;
// 1208 		case 0x11:
// 1209                         datalen = 0;
// 1210                         break;
// 1211 		case 0x12:
// 1212 			datalen = 1;	//1+ 6;
// 1213 			break;
// 1214 		default:pFrame->COMFIRM=FRAME_CHECK_CMD_WRONG;
// 1215 			return ;
// 1216 		}
// 1217    	crc=BUILD_UINT16(pBuf[3+datalen],pBuf[3+datalen+1]);
??FrameUnPackage_7:
        MOV     ?V0 + 2,?V0 + 4
        MOV     A,?V0 + 0
        ADD     A,?V0 + 2
        MOV     R0,A
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,R0
        MOV     DPH,R1
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     DPL,R0
        MOV     DPH,R1
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R2
        ADD     A,#0x0
        MOV     ?V0 + 2,A
        CLR     A
        ADDC    A,R1
        MOV     ?V0 + 3,A
// 1218      if(crc==Crc16Code(pBuf+1,datalen+2))//pBuf+1  ²»¼ÆHEAD  ³¤¶ÈÊÇ1+1+1-1
        ; Setup parameters for call to function Crc16Code
        MOV     A,#0x2
        ADD     A,?V0 + 4
        MOV     R1,A
        MOV     DPL,?V0 + 0
        MOV     DPH,R3
        INC     DPTR
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??Crc16Code?relay
        MOV     A,R2
        XRL     A,?V0 + 2
        JNZ     ??FrameUnPackage_8
        MOV     A,R3
        XRL     A,?V0 + 3
??FrameUnPackage_8:
        JZ      $+5
        LJMP    ??FrameUnPackage_9 & 0xFFFF
// 1219      	{
// 1220      		pFrame->CMD=cmd;
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     A,?V0 + 5
        LCALL   ?Subroutine9 & 0xFFFF
// 1221 		pFrame->DATALEN=datalen;
??CrossCallReturnLabel_6:
        INC     DPTR
        MOV     A,?V0 + 4
        MOVX    @DPTR,A
// 1222 		pFrame->ADDR=pBuf[1];
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    @DPTR,A
// 1223 		for(i=0;i<datalen;i++)
        MOV     R2,#0x0
        SJMP    ??FrameUnPackage_10
??FrameUnPackage_2:
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     DPL,?V0 + 0
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R2
        ADD     A,#0x7
        MOV     ?V0 + 2,A
        MOV     A,R1
        ADDC    A,#0x0
        MOV     ?V0 + 3,A
        MOV     A,#0x3
        MOV     R0,#?V0 + 2
        LCALL   ?US_SHR
        MOV     A,?V0 + 2
??FrameUnPackage_11:
        ADD     A,#0x5
        MOV     ?V0 + 4,A
        LJMP    ??FrameUnPackage_7 & 0xFFFF
??FrameUnPackage_3:
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        CLR     C
        RLC     A
        SJMP    ??FrameUnPackage_11
??FrameUnPackage_4:
        MOV     ?V0 + 4,#0x0
        LJMP    ??FrameUnPackage_7 & 0xFFFF
??FrameUnPackage_5:
        MOV     ?V0 + 4,#0x1
        LJMP    ??FrameUnPackage_7 & 0xFFFF
??FrameUnPackage_6:
        LCALL   ?Subroutine11 & 0xFFFF
??CrossCallReturnLabel_9:
        MOV     A,#0x3
        SJMP    ??FrameUnPackage_12
// 1224                     {
// 1225                     pFrame->pData[i]=pBuf[3+i];
??FrameUnPackage_13:
        MOV     DPL,R2
        MOV     R0,DPL
        MOV     A,?V0 + 0
        ADD     A,R0
        MOV     DPL,A
        MOV     A,?V0 + 1
        LCALL   ??Subroutine18_0 & 0xFFFF
// 1226                     }
??CrossCallReturnLabel_28:
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,R6
        ADD     A,R0
        LCALL   ?Subroutine15 & 0xFFFF
??CrossCallReturnLabel_30:
        INC     DPTR
        INC     DPTR
        INC     DPTR
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
        INC     R2
??FrameUnPackage_10:
        MOV     A,R2
        CLR     C
        SUBB    A,?V0 + 4
        JC      ??FrameUnPackage_13
// 1227                 pFrame->COMFIRM=FRAME_CHECK_RIGHT;
        LCALL   ?Subroutine11 & 0xFFFF
// 1228                 return ;//ÍêÈ«ÕýÈ· ²¢°Ñ°ü·µ»Ø
// 1229      	}
// 1230 	 	
// 1231    }
??CrossCallReturnLabel_10:
        MOV     A,#0x1
        SJMP    ??FrameUnPackage_12
// 1232    else
// 1233    {
// 1234    	 pFrame->COMFIRM=FRAME_CHECK_HEAD_WRONG;
??FrameUnPackage_0:
        LCALL   ?Subroutine11 & 0xFFFF
??CrossCallReturnLabel_11:
        MOV     A,#0x2
??FrameUnPackage_12:
        MOVX    @DPTR,A
// 1235 	 return ;
// 1236    }
??FrameUnPackage_9:
        LJMP    ?Subroutine1 & 0xFFFF
          CFI EndBlock cfiBlock39
// 1237      
// 1238 }

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine11:
          CFI Block cfiCond40 Using cfiCommon0
          CFI Function FrameUnPackage
          CFI Conditional ??CrossCallReturnLabel_9
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 16)
          CFI Block cfiCond41 Using cfiCommon0
          CFI (cfiCond41) Function FrameUnPackage
          CFI (cfiCond41) Conditional ??CrossCallReturnLabel_10
          CFI (cfiCond41) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond41) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond41) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond41) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond41) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond41) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond41) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond41) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond41) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond41) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond41) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond41) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond41) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond41) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond41) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond41) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond41) CFA_SP SP+0
          CFI (cfiCond41) CFA_XSP16 add(XSP16, 16)
          CFI Block cfiCond42 Using cfiCommon0
          CFI (cfiCond42) Function FrameUnPackage
          CFI (cfiCond42) Conditional ??CrossCallReturnLabel_11
          CFI (cfiCond42) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond42) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond42) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond42) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond42) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond42) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond42) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond42) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond42) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond42) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond42) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond42) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond42) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond42) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond42) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond42) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond42) CFA_SP SP+0
          CFI (cfiCond42) CFA_XSP16 add(XSP16, 16)
          CFI Block cfiPicker43 Using cfiCommon1
          CFI (cfiPicker43) NoFunction
          CFI (cfiPicker43) Picker
        MOV     A,R6
        ADD     A,#0x17
        LCALL   ?Subroutine15 & 0xFFFF
??CrossCallReturnLabel_31:
        RET
          CFI EndBlock cfiCond40
          CFI EndBlock cfiCond41
          CFI EndBlock cfiCond42
          CFI EndBlock cfiPicker43

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine15:
          CFI Block cfiCond44 Using cfiCommon0
          CFI Function TransmitApp_ProcessZDOIncomingMsgs
          CFI Conditional ??CrossCallReturnLabel_32, ??CrossCallReturnLabel_12
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 33)
          CFI Block cfiCond45 Using cfiCommon0
          CFI (cfiCond45) Function TransmitApp_ProcessZDOIncomingMsgs
          CFI (cfiCond45) Conditional ??CrossCallReturnLabel_32, ??CrossCallReturnLabel_13
          CFI (cfiCond45) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond45) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond45) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond45) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond45) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond45) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond45) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond45) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond45) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond45) CFA_SP SP+0
          CFI (cfiCond45) CFA_XSP16 add(XSP16, 33)
          CFI Block cfiCond46 Using cfiCommon0
          CFI (cfiCond46) Function FrameUnPackage
          CFI (cfiCond46) Conditional ??CrossCallReturnLabel_30
          CFI (cfiCond46) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond46) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond46) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond46) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond46) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond46) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond46) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond46) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond46) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond46) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond46) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond46) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond46) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond46) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond46) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond46) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond46) CFA_SP SP+-1
          CFI (cfiCond46) CFA_XSP16 add(XSP16, 16)
          CFI Block cfiCond47 Using cfiCommon0
          CFI (cfiCond47) Function FrameUnPackage
          CFI (cfiCond47) Conditional ??CrossCallReturnLabel_31, ??CrossCallReturnLabel_9
          CFI (cfiCond47) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond47) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond47) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond47) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond47) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond47) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond47) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond47) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond47) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond47) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond47) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond47) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond47) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond47) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond47) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond47) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond47) CFA_SP SP+0
          CFI (cfiCond47) CFA_XSP16 add(XSP16, 16)
          CFI Block cfiCond48 Using cfiCommon0
          CFI (cfiCond48) Function FrameUnPackage
          CFI (cfiCond48) Conditional ??CrossCallReturnLabel_31, ??CrossCallReturnLabel_10
          CFI (cfiCond48) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond48) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond48) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond48) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond48) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond48) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond48) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond48) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond48) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond48) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond48) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond48) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond48) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond48) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond48) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond48) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond48) CFA_SP SP+0
          CFI (cfiCond48) CFA_XSP16 add(XSP16, 16)
          CFI Block cfiCond49 Using cfiCommon0
          CFI (cfiCond49) Function FrameUnPackage
          CFI (cfiCond49) Conditional ??CrossCallReturnLabel_31, ??CrossCallReturnLabel_11
          CFI (cfiCond49) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond49) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond49) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond49) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond49) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond49) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond49) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond49) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond49) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond49) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond49) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond49) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond49) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond49) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond49) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond49) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond49) CFA_SP SP+0
          CFI (cfiCond49) CFA_XSP16 add(XSP16, 16)
          CFI Block cfiPicker50 Using cfiCommon1
          CFI (cfiPicker50) NoFunction
          CFI (cfiPicker50) Picker
        MOV     DPL,A
        MOV     A,R7
          CFI EndBlock cfiCond44
          CFI EndBlock cfiCond45
          CFI EndBlock cfiCond46
          CFI EndBlock cfiCond47
          CFI EndBlock cfiCond48
          CFI EndBlock cfiCond49
          CFI EndBlock cfiPicker50
        REQUIRE ??Subroutine18_0
        ; // Fall through to label ??Subroutine18_0

        RSEG BANKED_CODE:CODE:NOROOT(0)
??Subroutine18_0:
          CFI Block cfiCond51 Using cfiCommon0
          CFI Function TransmitApp_ProcessZDOMsgs
          CFI Conditional ??CrossCallReturnLabel_29, ??CrossCallReturnLabel_7
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
          CFI Block cfiCond52 Using cfiCommon0
          CFI (cfiCond52) Function TransmitApp_ProcessZDOIncomingMsgs
          CFI (cfiCond52) Conditional ??CrossCallReturnLabel_29, ??CrossCallReturnLabel_8
          CFI (cfiCond52) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond52) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond52) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond52) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond52) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond52) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond52) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond52) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond52) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond52) CFA_SP SP+0
          CFI (cfiCond52) CFA_XSP16 add(XSP16, 33)
          CFI Block cfiCond53 Using cfiCommon0
          CFI (cfiCond53) Function FrameUnPackage
          CFI (cfiCond53) Conditional ??CrossCallReturnLabel_28
          CFI (cfiCond53) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond53) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond53) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond53) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond53) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond53) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond53) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond53) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond53) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond53) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond53) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond53) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond53) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond53) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond53) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond53) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond53) CFA_SP SP+0
          CFI (cfiCond53) CFA_XSP16 add(XSP16, 16)
          CFI Block cfiCond54 Using cfiCommon0
          CFI (cfiCond54) Function TransmitApp_ProcessZDOIncomingMsgs
          CFI (cfiCond54) Conditional ??CrossCallReturnLabel_33, ??CrossCallReturnLabel_26
          CFI (cfiCond54) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond54) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond54) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond54) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond54) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond54) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond54) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond54) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond54) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond54) CFA_SP SP+0
          CFI (cfiCond54) CFA_XSP16 add(XSP16, 33)
          CFI Block cfiCond55 Using cfiCommon0
          CFI (cfiCond55) Function TransmitApp_ProcessZDOIncomingMsgs
          CFI (cfiCond55) Conditional ??CrossCallReturnLabel_33, ??CrossCallReturnLabel_27
          CFI (cfiCond55) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond55) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond55) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond55) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond55) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond55) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond55) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond55) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond55) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond55) CFA_SP SP+0
          CFI (cfiCond55) CFA_XSP16 add(XSP16, 33)
          CFI Block cfiCond56 Using cfiCommon0
          CFI (cfiCond56) Function TransmitApp_ProcessZDOMsgs
          CFI (cfiCond56) Conditional ??CrossCallReturnLabel_33, ??CrossCallReturnLabel_23
          CFI (cfiCond56) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond56) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond56) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond56) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond56) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond56) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond56) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond56) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond56) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond56) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond56) CFA_SP SP+0
          CFI (cfiCond56) CFA_XSP16 add(XSP16, 10)
          CFI Block cfiCond57 Using cfiCommon0
          CFI (cfiCond57) Function StepMotorRun
          CFI (cfiCond57) Conditional ??CrossCallReturnLabel_33, ??CrossCallReturnLabel_24
          CFI (cfiCond57) R6 load(1, XDATA, add(CFA_XSP16, literal(-18)))
          CFI (cfiCond57) VB load(1, XDATA, add(CFA_XSP16, literal(-17)))
          CFI (cfiCond57) V0 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond57) V1 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond57) V2 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond57) V3 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond57) V4 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond57) V5 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond57) V6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond57) V7 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond57) V8 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond57) V9 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond57) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond57) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond57) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond57) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond57) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond57) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond57) CFA_SP SP+0
          CFI (cfiCond57) CFA_XSP16 add(XSP16, 26)
          CFI Block cfiCond58 Using cfiCommon0
          CFI (cfiCond58) Function SegDisplay
          CFI (cfiCond58) Conditional ??CrossCallReturnLabel_33, ??CrossCallReturnLabel_25
          CFI (cfiCond58) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond58) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond58) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond58) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond58) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond58) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond58) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond58) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond58) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond58) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond58) CFA_SP SP+0
          CFI (cfiCond58) CFA_XSP16 add(XSP16, 20)
          CFI Block cfiCond59 Using cfiCommon0
          CFI (cfiCond59) Function TransmitApp_ProcessZDOIncomingMsgs
          CFI (cfiCond59) Conditional ??CrossCallReturnLabel_32, ??CrossCallReturnLabel_12
          CFI (cfiCond59) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond59) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond59) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond59) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond59) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond59) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond59) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond59) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond59) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond59) CFA_SP SP+0
          CFI (cfiCond59) CFA_XSP16 add(XSP16, 33)
          CFI Block cfiCond60 Using cfiCommon0
          CFI (cfiCond60) Function TransmitApp_ProcessZDOIncomingMsgs
          CFI (cfiCond60) Conditional ??CrossCallReturnLabel_32, ??CrossCallReturnLabel_13
          CFI (cfiCond60) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond60) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond60) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond60) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond60) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond60) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond60) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond60) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond60) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond60) CFA_SP SP+0
          CFI (cfiCond60) CFA_XSP16 add(XSP16, 33)
          CFI Block cfiCond61 Using cfiCommon0
          CFI (cfiCond61) Function FrameUnPackage
          CFI (cfiCond61) Conditional ??CrossCallReturnLabel_30
          CFI (cfiCond61) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond61) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond61) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond61) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond61) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond61) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond61) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond61) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond61) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond61) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond61) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond61) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond61) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond61) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond61) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond61) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond61) CFA_SP SP+-1
          CFI (cfiCond61) CFA_XSP16 add(XSP16, 16)
          CFI Block cfiCond62 Using cfiCommon0
          CFI (cfiCond62) Function FrameUnPackage
          CFI (cfiCond62) Conditional ??CrossCallReturnLabel_31, ??CrossCallReturnLabel_9
          CFI (cfiCond62) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond62) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond62) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond62) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond62) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond62) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond62) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond62) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond62) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond62) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond62) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond62) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond62) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond62) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond62) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond62) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond62) CFA_SP SP+0
          CFI (cfiCond62) CFA_XSP16 add(XSP16, 16)
          CFI Block cfiCond63 Using cfiCommon0
          CFI (cfiCond63) Function FrameUnPackage
          CFI (cfiCond63) Conditional ??CrossCallReturnLabel_31, ??CrossCallReturnLabel_10
          CFI (cfiCond63) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond63) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond63) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond63) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond63) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond63) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond63) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond63) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond63) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond63) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond63) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond63) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond63) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond63) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond63) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond63) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond63) CFA_SP SP+0
          CFI (cfiCond63) CFA_XSP16 add(XSP16, 16)
          CFI Block cfiCond64 Using cfiCommon0
          CFI (cfiCond64) Function FrameUnPackage
          CFI (cfiCond64) Conditional ??CrossCallReturnLabel_31, ??CrossCallReturnLabel_11
          CFI (cfiCond64) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond64) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond64) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond64) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond64) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond64) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond64) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond64) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond64) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond64) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond64) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond64) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond64) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond64) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond64) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond64) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond64) CFA_SP SP+0
          CFI (cfiCond64) CFA_XSP16 add(XSP16, 16)
          CFI Block cfiPicker65 Using cfiCommon1
          CFI (cfiPicker65) NoFunction
          CFI (cfiPicker65) Picker
        ADDC    A,#0x0
        MOV     DPH,A
        RET
          CFI EndBlock cfiCond51
          CFI EndBlock cfiCond52
          CFI EndBlock cfiCond53
          CFI EndBlock cfiCond54
          CFI EndBlock cfiCond55
          CFI EndBlock cfiCond56
          CFI EndBlock cfiCond57
          CFI EndBlock cfiCond58
          CFI EndBlock cfiCond59
          CFI EndBlock cfiCond60
          CFI EndBlock cfiCond61
          CFI EndBlock cfiCond62
          CFI EndBlock cfiCond63
          CFI EndBlock cfiCond64
          CFI EndBlock cfiPicker65

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine9:
          CFI Block cfiCond66 Using cfiCommon0
          CFI Function TransmitApp_ProcessZDOMsgs
          CFI Conditional ??CrossCallReturnLabel_4
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
          CFI Block cfiCond67 Using cfiCommon0
          CFI (cfiCond67) Function TransmitApp_ProcessZDOMsgs
          CFI (cfiCond67) Conditional ??CrossCallReturnLabel_5
          CFI (cfiCond67) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond67) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond67) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond67) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond67) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond67) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond67) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond67) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond67) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond67) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond67) CFA_SP SP+0
          CFI (cfiCond67) CFA_XSP16 add(XSP16, 10)
          CFI Block cfiCond68 Using cfiCommon0
          CFI (cfiCond68) Function FrameUnPackage
          CFI (cfiCond68) Conditional ??CrossCallReturnLabel_6
          CFI (cfiCond68) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond68) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond68) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond68) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond68) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond68) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond68) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond68) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond68) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond68) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond68) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond68) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond68) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond68) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond68) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond68) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond68) CFA_SP SP+0
          CFI (cfiCond68) CFA_XSP16 add(XSP16, 16)
          CFI Block cfiPicker69 Using cfiCommon1
          CFI (cfiPicker69) NoFunction
          CFI (cfiPicker69) Picker
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        RET
          CFI EndBlock cfiCond66
          CFI EndBlock cfiCond67
          CFI EndBlock cfiCond68
          CFI EndBlock cfiPicker69
// 1239 
// 1240 
// 1241 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1242 uint16 Crc16Code(uint8 *str, uint8 len)//Modbus Ckeck Code.//LO First
Crc16Code:
          CFI Block cfiBlock70 Using cfiCommon0
          CFI Function Crc16Code
        CODE
// 1243 {
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 0
        MOV     DPL,R2
        MOV     DPH,R3
        MOV     A,R1
        MOV     R4,A
// 1244     uint16 code = 0xFFFF;
        MOV     R2,#-0x1
        MOV     R3,#-0x1
// 1245     uint16 Poly = 0xA001;
// 1246 // Dnp is 0x3D65 or A6BC
// 1247 
// 1248     int flag = 0;
        MOV     R6,#0x0
// 1249     int j = 0;
        MOV     R0,#0x0
        MOV     R1,#0x0
// 1250 
// 1251     for(j=0; j<len; j++)
        SJMP    ??Crc16Code_0
// 1252     {
// 1253 		code ^= (uint16) (*str);
??Crc16Code_1:
        MOVX    A,@DPTR
        XRL     A,R2
        MOV     R2,A
// 1254 		for(int i=0; i<8;i++)
        MOV     R5,#0x8
// 1255 		{
// 1256 			if ( code & 0x0001 ) flag = 1;
??Crc16Code_2:
        MOV     A,R2
        MOV     C,0xE0 /* A   */.0
        JNC     ??Crc16Code_3
        MOV     R6,#0x1
// 1257 			code = code>>1;
??Crc16Code_3:
        MOV     A,R3
        CLR     C
        RRC     A
        MOV     R3,A
        MOV     A,R2
        RRC     A
        MOV     R2,A
// 1258 			if ( flag )
        MOV     A,R6
        JZ      ??Crc16Code_4
// 1259 			{
// 1260 				code ^= Poly;
        MOV     A,#0x1
        XRL     A,R2
        MOV     R2,A
        MOV     A,#-0x60
        XRL     A,R3
        MOV     R3,A
// 1261 				flag = 0;
        MOV     R6,#0x0
// 1262 			}
// 1263 		}
??Crc16Code_4:
        DEC     R5
        MOV     A,R5
        JNZ     ??Crc16Code_2
// 1264 		str ++;
        INC     DPTR
// 1265     }
        MOV     A,R0
        ADD     A,#0x1
        INC     R0
        MOV     A,R1
        ADDC    A,#0x0
        MOV     R1,A
??Crc16Code_0:
        MOV     ?V0 + 0,R4
        CLR     C
        MOV     A,R0
        SUBB    A,?V0 + 0
        MOV     A,R1
        SUBB    A,#0x0
        MOV     C,0xD0 /* PSW */.2
        XRL     A,PSW
        RLC     A
        JC      ??Crc16Code_1
// 1266     return code;
        LJMP    ??Subroutine16_0 & 0xFFFF
          CFI EndBlock cfiBlock70
// 1267 }
// 1268 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1269 void SentDataInBind(uint8 *pdata,uint16 len)
SentDataInBind:
          CFI Block cfiBlock71 Using cfiCommon0
          CFI Function SentDataInBind
        CODE
// 1270 {
        FUNCALL SentDataInBind, AF_DataRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SentDataInBind, HalLedBlink
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 0
// 1271   //uint8 data[]="hello";
// 1272      AF_DataRequest( 
// 1273                     &TransmitApp_DstAddr,               //µØÖ·
// 1274                     &TransmitApp_epDesc,                //ÃèÊö
// 1275                     TRANSMITAPP_CLUSTERID_TESTMSG,      //×å
// 1276                     len,                                  //len
// 1277                     pdata,//TransmitApp_Msg,             //DATA
// 1278                     &TransmitApp_TransID,               //
// 1279                     TRANSMITAPP_TX_OPTIONS,
// 1280                     AF_DEFAULT_RADIUS 
// 1281                     );
        ; Setup parameters for call to function AF_DataRequest
        MOV     ?V0 + 0,#0x1e
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 11)
        MOV     ?V0 + 0,#TransmitApp_TransID & 0xff
        MOV     ?V0 + 1,#(TransmitApp_TransID >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 13)
        MOV     ?V0 + 0,R2
        MOV     ?V0 + 1,R3
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 15)
        MOV     ?V0 + 0,R4
        MOV     ?V0 + 1,R5
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 17)
        MOV     ?V0 + 0,#-0x5f
        MOV     ?V0 + 1,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 19)
        MOV     R1,#0x20
        MOV     R4,#TransmitApp_epDesc & 0xff
        MOV     R5,#(TransmitApp_epDesc >> 8) & 0xff
        MOV     R2,#TransmitApp_DstAddr & 0xff
        MOV     R3,#(TransmitApp_DstAddr >> 8) & 0xff
        LCALL   ??AF_DataRequest?relay
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 10)
// 1282      HalLedBlink (HAL_LED_3, 1, 50, 300);
        ; Setup parameters for call to function HalLedBlink
        MOV     R4,#0x2c
        MOV     R5,#0x1
        LJMP    ?Subroutine0 & 0xFFFF
          CFI EndBlock cfiBlock71
// 1283 }
// 1284 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1285 void SendBindRequest(void)
SendBindRequest:
          CFI Block cfiBlock72 Using cfiCommon0
          CFI Function SendBindRequest
        CODE
// 1286 {
        FUNCALL SendBindRequest, NLME_GetShortAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 20, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SendBindRequest, ZDP_EndDeviceBindReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 29, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 29, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SendBindRequest, HalLedBlink
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 20, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xb
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 11)
        ; Saved register size: 11
        ; Auto size: 9
        MOV     A,#-0x9
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 20)
// 1287     zAddrType_t dstAddr;
// 1288     dstAddr.addrMode = Addr16Bit;
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x2
        MOVX    @DPTR,A
// 1289     dstAddr.addr.shortAddr = 0x0000; // Coordinator
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        CLR     A
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    @DPTR,A
// 1290     ZDP_EndDeviceBindReq( &dstAddr, NLME_GetShortAddr(),
// 1291                   TransmitApp_epDesc.endPoint,
// 1292                   TRANSMITAPP_PROFID,
// 1293                   TRANSMITAPP_MAX_CLUSTERS, (cId_t *)TransmitApp_ClusterList,
// 1294                   TRANSMITAPP_MAX_CLUSTERS, (cId_t *)TransmitApp_ClusterList,
// 1295                   FALSE );
        ; Setup parameters for call to function NLME_GetShortAddr
        LCALL   ??NLME_GetShortAddr?relay
        MOV     ?V0 + 0,R2
        MOV     ?V0 + 1,R3
        MOV     R4,?V0 + 0
        MOV     R5,?V0 + 1
        MOV     ?V0 + 0,#TransmitApp_ClusterList & 0xff
        MOV     ?V0 + 1,#(TransmitApp_ClusterList >> 8) & 0xff
        ; Setup parameters for call to function ZDP_EndDeviceBindReq
        MOV     ?V0 + 2,#0x0
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 21)
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 23)
        MOV     ?V0 + 2,#0x1
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 24)
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 26)
        MOV     ?V0 + 0,#0x1
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 27)
        MOV     ?V0 + 0,#0x5
        MOV     ?V0 + 1,#0xf
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 29)
        MOV     DPTR,#TransmitApp_epDesc
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,#0x9
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??ZDP_EndDeviceBindReq?relay
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 20)
// 1296     HalLedBlink (HAL_LED_1, 1, 50, 300);
        ; Setup parameters for call to function HalLedBlink
        MOV     R4,#0x2c
        MOV     R5,#0x1
        MOV     R3,#0x32
        MOV     R2,#0x1
        MOV     R1,#0x1
        LCALL   ??HalLedBlink?relay
// 1297 }
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 11)
        MOV     R7,#0x3
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock72
// 1298 
// 1299 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1300 void ReportData(ModBusFrame_t *pRxFrame)
ReportData:
          CFI Block cfiBlock73 Using cfiCommon0
          CFI Function ReportData
        CODE
// 1301 {
        FUNCALL ReportData, ControlStepMotor
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ReportData, DisplaySmg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ReportData, osal_nv_item_init
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ReportData, osal_nv_write
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 34, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ReportData, FramePackage
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 34, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ReportData, SendDataRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ReportData, FramePackage
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 34, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ReportData, SendDataRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 20
        MOV     A,#-0x14
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
// 1302  /* 
// 1303   #if defined ( GTA_WWSB_R1 ) //ÓêµÎ´«¸ÐÆ÷   
// 1304   uint8 Frame[10];//ÁÙÊ±Éè¶¨µÄ´óÐ¡
// 1305   uint8 data[3];//GTA_WWSB_R1 Êý¾ÝÎª3
// 1306   #endif
// 1307   #if defined ( GTA_WTHSB_R1 ) //ÎÂÊª¶È´«¸ÐÆ÷   
// 1308   uint8 Frame[10];//ÁÙÊ±Éè¶¨µÄ´óÐ¡
// 1309   uint8 data[5];//GTA_WWSB_R1 Êý¾ÝÎª3
// 1310   #endif
// 1311 */
// 1312 
// 1313   #if defined (GTA_WHFRFID_R1)
// 1314   RC623Frame_t pframe;
// 1315   uint16 cmd;
// 1316   #endif
// 1317 
// 1318   uint8 Frame[20];//ÁÙÊ±Éè¶¨µÄ´óÐ¡
// 1319   uint8 data[10];//
// 1320   uint16 i=0,j=0;
// 1321   uint8 led=0;
// 1322 
// 1323   
// 1324   uint16 temp;
// 1325   uint16 FrameLen;
// 1326   switch(pRxFrame->CMD)
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        ADD     A,#-0x3
        JZ      ??ReportData_0
        ADD     A,#-0xe
        JNZ     $+5
        LJMP    ??ReportData_1 & 0xFFFF
        DEC     A
        JZ      ??ReportData_2
        LJMP    ??ReportData_3 & 0xFFFF
// 1327       {
// 1328       case FUN_CODE_READ_HOLDING_REGISTERS://¶Á¼Ä´æÆ÷Êý¾Ý
// 1329         {
// 1330           //temp=BUILD_UINT16(pRxFrame->pData[1],pRxFrame->pData[0]);
// 1331           //if(temp==NativeAddr)//1 2×Ö½ÚÊÇµØÖ·£¬ÊÇ·ñ±¾»úµØÖ·
// 1332           if(pRxFrame->ADDR==NativeAddr)//ÊÇ·ñ±¾»úµØÖ·
??ReportData_0:
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     DPTR,#NativeAddr
        MOVX    A,@DPTR
        XRL     A,R0
        JZ      $+5
        LJMP    ??ReportData_3 & 0xFFFF
// 1333           {
// 1334               #if defined ( GTA_WWSB_R1 )||(GTA_WFSB_R1) //´«¸ÐÆ÷   
// 1335               temp=ReadADC(4);//¶ÁÓêµÎµçÑ¹Öµ,»ðÑæ´«¸ÐÆ÷
// 1336               data[0]=1;
// 1337               if(temp>3000)
// 1338                 data[1]=0x01;
// 1339               else
// 1340                 data[1]=0x00;
// 1341               //data[1]=LO_UINT16(temp);
// 1342               //data[2]=HI_UINT16(temp);
// 1343               FrameLen=FramePackage(Frame,NativeAddr,0x03,data,2);//´ò°ü
// 1344               SendDataRequest(Frame,FrameLen);//·¢ËÍ
// 1345               #endif
// 1346               
// 1347               #if defined ( GTA_WUSB_R1 )
// 1348               IO_DIR_PORT_PIN(0, 6, IO_IN);
// 1349               data[0]=1;
// 1350               if(IO_SENSOR)
// 1351                 data[1]=0x01;
// 1352               else
// 1353                 data[1]=0x00;
// 1354               FrameLen=FramePackage(Frame,NativeAddr,0x03,data,2);//´ò°ü
// 1355               SendDataRequest(Frame,FrameLen);//·¢ËÍ
// 1356               #endif
// 1357 
// 1358               #if defined(GTA_WRCB_R1)
// 1359               IO_DIR_PORT_PIN(0, 6, IO_OUT);
// 1360               IO_DIR_PORT_PIN(0, 0, IO_OUT);
// 1361               if(pRxFrame->pData[0]==0x01)
// 1362                 {
// 1363                   if(pRxFrame->pData[1]==0x00)
// 1364                     IO_RELAY1=0;
// 1365                   if(pRxFrame->pData[1]==0x01)
// 1366                     IO_RELAY1=1;
// 1367                 }
// 1368               if(pRxFrame->pData[0]==0x02)
// 1369                 {
// 1370                   if(pRxFrame->pData[1]==0x00)
// 1371                     IO_RELAY2=0;
// 1372                   if(pRxFrame->pData[1]==0x01)
// 1373                     IO_RELAY2=1;
// 1374                 }
// 1375               #endif
// 1376               
// 1377               
// 1378               #if defined (GTA_WVSB_R1)||(GTA_WIRSB_R1)
// 1379               temp=ReadADC(4);//ºìÍâ´«¸ÐÆ÷
// 1380               data[0]=1;
// 1381               if(temp>3000)
// 1382                 data[1]=0x00;
// 1383               else
// 1384                 data[1]=0x01;
// 1385               FrameLen=FramePackage(Frame,NativeAddr,0x03,data,2);//´ò°ü
// 1386               SendDataRequest(Frame,FrameLen);//·¢ËÍ
// 1387               #endif
// 1388               
// 1389               #if defined (GTA_WISB_R1)
// 1390               temp=ReadADC(4);//
// 1391               data[0]=2;
// 1392               data[1]=LO_UINT16(temp);
// 1393               data[2]=HI_UINT16(temp);
// 1394               FrameLen=FramePackage(Frame,pRxFrame->ADDR,pRxFrame->CMD,data,3);//´ò°ü
// 1395               SendDataRequest(Frame,FrameLen);//·¢ËÍ
// 1396               #endif
// 1397               
// 1398               
// 1399               #if defined ( GTA_WTHSB_R1 ) //ÎÂÊª¶È´«¸ÐÆ÷  
// 1400               osal_int_disable( INTS_ALL );
// 1401               readTempHumi();
// 1402               osal_int_enable( INTS_ALL );
// 1403               data[0]=4;
// 1404               data[1]=humi_val[0];//L
// 1405               data[2]=humi_val[1];//H
// 1406               data[3]=temp_val[0];
// 1407               data[4]=temp_val[1];
// 1408               FrameLen=FramePackage(Frame,pRxFrame->ADDR,pRxFrame->CMD,data,5);//´ò°ü
// 1409               SendDataRequest(Frame,FrameLen);//·¢ËÍ
// 1410               #endif
// 1411               
// 1412               #if defined (GTA_WHFRFID_R1)
// 1413               cmd=BUILD_UINT16(pRxFrame->pData[0],pRxFrame->pData[1]);
// 1414                 switch(cmd)
// 1415                 {
// 1416                 case MODBUS_RFID_CMD_FIND_ISO14443_CARD://7E xx 03 01 0A 00 00 xx
// 1417                   FrameLen=PackUpRC623Data(RFID_CMD_FIND_ISO14443_CARD,&(pRxFrame->pData[2]),Frame);//´ò°ü
// 1418                    HalUARTWrite(HAL_UART_PORT_0,Frame,FrameLen);
// 1419                   //SendDataRequest(Frame,FrameLen);
// 1420                   break;
// 1421                 case MODBUS_RFID_CMD_GET_CARD_ID:
// 1422                   FrameLen=PackUpRC623Data(RFID_CMD_GET_CARD_ID,&(pRxFrame->pData[2]),Frame);//´ò°ü
// 1423                    HalUARTWrite(HAL_UART_PORT_0,Frame,FrameLen);
// 1424                   break;
// 1425                 case MODBUS_RFID_CMD_READ_VAL:
// 1426                   
// 1427                   break;
// 1428                 default:
// 1429                   break;
// 1430                 }
// 1431               
// 1432               #endif
// 1433                 
// 1434               #if defined(GTA_WMSCB_R1)
// 1435                /*
// 1436               ctrl_GTA_WMSCB('M',0x80);
// 1437               for(j=0;j<1000;j++)
// 1438               {
// 1439                
// 1440                ctrl_GTA_WMSCB('A',led);
// 1441                ctrl_GTA_WMSCB('B',led++);
// 1442               StepMotorRun(1,4096);
// 1443               StepMotorRun(0,4096);
// 1444               }
// 1445                 */
// 1446                 /*init_GTA_WMSCB();
// 1447                 ctrl_GTA_WMSCB('M',0x80);
// 1448                 if(pRxFrame->pData[0]==0x00)
// 1449                 {
// 1450                   //ctrl_GTA_WMSCB('M',0x80);
// 1451                   osal_int_disable( INTS_ALL );
// 1452                   StepMotorRun(pRxFrame->pData[1],BUILD_UINT16(pRxFrame->pData[2],pRxFrame->pData[3]));
// 1453                   osal_int_enable( INTS_ALL );
// 1454                 }
// 1455                 if(pRxFrame->pData[0]==0x01)
// 1456                 {
// 1457                   //ctrl_GTA_WMSCB('M',0x80);
// 1458                   ctrl_GTA_WMSCB('A',pRxFrame->pData[1]);
// 1459                 }
// 1460                 if(pRxFrame->pData[0]==0x02)
// 1461                 {
// 1462 
// 1463                   SegDisplay(pRxFrame->pData[1]);
// 1464                 }*/
// 1465                 if(pRxFrame->pData[0] == 0x00){  //ÅÐ¶ÏÊÇ·ñÊÇµç»úµÄ¿ØÖÆÊý¾Ý
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        JNZ     ??ReportData_4
// 1466                     ControlStepMotor(pRxFrame->pData[1]);
        ; Setup parameters for call to function ControlStepMotor
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??ControlStepMotor?relay
        LJMP    ??ReportData_3 & 0xFFFF
// 1467                 } else if(pRxFrame->pData[0] == 0x02){//ÅÐ¶ÏÊÇ·ñÊÇÊýÂë¹ÜµÄ¿ØÖÆÊý¾Ý
??ReportData_4:
        XRL     A,#0x2
        JZ      $+5
        LJMP    ??ReportData_3 & 0xFFFF
// 1468                     DisplaySmg(pRxFrame->pData[1]);
        ; Setup parameters for call to function DisplaySmg
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??DisplaySmg?relay
        LJMP    ??ReportData_3 & 0xFFFF
// 1469                 }
// 1470               #endif
// 1471               
// 1472           }
// 1473         }
// 1474         break;
// 1475       case FUN_CODE_SET_ADDR://ÉèµØÖ·
// 1476         {
// 1477           if(pRxFrame->ADDR==NativeAddr)//ÊÇ·ñ±¾»úµØÖ·
??ReportData_2:
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     DPTR,#NativeAddr
        MOVX    A,@DPTR
        XRL     A,R0
        JZ      $+5
        LJMP    ??ReportData_3 & 0xFFFF
// 1478           {
// 1479           NativeAddr=pRxFrame->pData[0];
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPTR,#NativeAddr
        MOVX    @DPTR,A
// 1480           osal_nv_item_init(ZCD_NV_NATIVE_ADDRESS,sizeof(NativeAddr),NULL);
        ; Setup parameters for call to function osal_nv_item_init
        CLR     A
        MOV     ?V0 + 0,A
        MOV     ?V0 + 1,A
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 32)
        MOV     R4,#0x1
        MOV     R5,#0x0
        MOV     R2,#0x1
        MOV     R3,#0x4
        LCALL   ??osal_nv_item_init?relay
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
// 1481           osal_nv_write(ZCD_NV_NATIVE_ADDRESS,0,sizeof(NativeAddr),&NativeAddr);
        ; Setup parameters for call to function osal_nv_write
        MOV     ?V0 + 0,#NativeAddr & 0xff
        MOV     ?V0 + 1,#(NativeAddr >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 32)
        MOV     ?V0 + 0,#0x1
        MOV     ?V0 + 1,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 34)
        MOV     R4,#0x0
        MOV     R5,#0x0
        MOV     R2,#0x1
        MOV     R3,#0x4
        LCALL   ??osal_nv_write?relay
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
// 1482           FrameLen=FramePackage(Frame,pRxFrame->ADDR,pRxFrame->CMD,pRxFrame->pData,1);//´ò°ü
// 1483           SendDataRequest(Frame,FrameLen);//·¢ËÍ
        ; Setup parameters for call to function SendDataRequest
        ; Setup parameters for call to function FramePackage
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 32)
        MOV     A,R6
        ADD     A,#0x3
        MOV     ?V0 + 0,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     ?V0 + 1,A
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 34)
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R4,A
        SJMP    ??ReportData_5
          CFI CFA_XSP16 add(XSP16, 30)
// 1484           }
// 1485         }
// 1486         break;
// 1487       case FUN_CODE_READ_ADDR://¶ÁµØÖ·
// 1488         {
// 1489           FrameLen=FramePackage(Frame,pRxFrame->ADDR,pRxFrame->CMD,&NativeAddr,1);//´ò°ü
// 1490           SendDataRequest(Frame,FrameLen);//·¢ËÍ
??ReportData_1:
        ; Setup parameters for call to function SendDataRequest
        ; Setup parameters for call to function FramePackage
        MOV     ?V0 + 0,#0x1
        MOV     ?V0 + 1,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 32)
        MOV     ?V0 + 0,#NativeAddr & 0xff
        MOV     ?V0 + 1,#(NativeAddr >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 34)
        MOV     R4,#0x11
??ReportData_5:
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??FramePackage?relay
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
        MOV     A,R2
        MOV     R4,A
        MOV     A,R3
        MOV     R5,A
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??SendDataRequest?relay
// 1491           
// 1492         }
// 1493         break;
// 1494       }
// 1495   
// 1496   
// 1497 
// 1498 }
??ReportData_3:
        MOV     A,#0x14
        LJMP    ?Subroutine5 & 0xFFFF
          CFI EndBlock cfiBlock73
// 1499 #if defined(GTA_WMSCB_R1)

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1500 void StepMotorRun(uint8 Dir,uint16 StepNum)
StepMotorRun:
          CFI Block cfiBlock74 Using cfiCommon0
          CFI Function StepMotorRun
        CODE
// 1501 {
        FUNCALL StepMotorRun, ctrl_GTA_WMSCB
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 26, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 26, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL StepMotorRun, SegDisplay
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 26, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 26, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL StepMotorRun, ctrl_GTA_WMSCB
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 26, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 26, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL StepMotorRun, ctrl_GTA_WMSCB
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 26, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 26, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x12
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V9 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V8 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-17)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-18)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 18)
        ; Saved register size: 18
        ; Auto size: 8
        MOV     A,#-0x8
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 26)
        MOV     ?V0 + 4,R1
        MOV     ?V0 + 0,R2
        MOV     ?V0 + 1,R3
// 1502   uint8 ForwardStep[4]={0x03,0x09,0x0C,0x06};
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     DPH,#(`?<Constant {3, 9, 12, 6}>` >> 8) & 0xff
        MOV     DPL,#`?<Constant {3, 9, 12, 6}>` & 0xff
        MOV     A,#0x4
        LCALL   ?MOVE_LONG8_XDATA_XDATA
// 1503   uint8 BackStep[4]={0x03,0x06,0x0C,0x09};
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     DPH,#(`?<Constant {3, 6, 12, 9}>` >> 8) & 0xff
        MOV     DPL,#`?<Constant {3, 6, 12, 9}>` & 0xff
        MOV     A,#0x4
        LCALL   ?MOVE_LONG8_XDATA_XDATA
// 1504   uint16 i=0,j=0,k=0;
        MOV     R6,A
        MOV     R7,A
        MOV     ?V0 + 2,A
        MOV     ?V0 + 3,A
// 1505   uint8 index=0,l=0;
        MOV     ?V0 + 6,A
        MOV     ?V0 + 5,A
// 1506   for(i=0;i<StepNum;i++)
        LJMP    ??StepMotorRun_0 & 0xFFFF
// 1507   {
// 1508     if(Dir)
// 1509       ctrl_GTA_WMSCB('C',ForwardStep[index]);
// 1510     else
// 1511       ctrl_GTA_WMSCB('C',BackStep[index]);
??StepMotorRun_1:
        ; Setup parameters for call to function ctrl_GTA_WMSCB
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
??StepMotorRun_2:
        MOV     A,DPL
        ADD     A,?V0 + 8
        MOV     DPL,A
        MOV     A,DPH
        LCALL   ??Subroutine19_0 & 0xFFFF
??CrossCallReturnLabel_24:
        MOV     R2,A
        MOV     R1,#0x43
        LCALL   ??ctrl_GTA_WMSCB?relay
// 1512     if(i==(k*255-1)||i==0)
        MOV     A,?V0 + 2
        MOV     B,#-0x1
        MUL     AB
        MOV     R0,A
        MOV     R2,B
        MOV     B,#-0x1
        MOV     A,?V0 + 3
        MUL     AB
        ADD     A,R2
        MOV     R1,A
        LCALL   ?Subroutine14 & 0xFFFF
??CrossCallReturnLabel_14:
        XRL     A,R6
        JNZ     ??StepMotorRun_3
        MOV     A,R1
        XRL     A,R7
??StepMotorRun_3:
        JZ      ??StepMotorRun_4
        MOV     A,R6
        ORL     A,R7
        JNZ     ??StepMotorRun_5
// 1513     {
// 1514       SegDisplay(l);
??StepMotorRun_4:
        ; Setup parameters for call to function SegDisplay
        MOV     R1,?V0 + 5
        LCALL   ??SegDisplay?relay
// 1515       if(l++>8)l=0;
        MOV     ?V0 + 7,?V0 + 5
        MOV     A,#0x1
        ADD     A,?V0 + 7
        MOV     ?V0 + 5,A
        MOV     A,?V0 + 7
        CLR     C
        SUBB    A,#0x9
        JC      ??StepMotorRun_6
        MOV     ?V0 + 5,#0x0
// 1516       k++;
??StepMotorRun_6:
        MOV     A,?V0 + 2
        ADD     A,#0x1
        MOV     ?V0 + 2,A
        MOV     A,?V0 + 3
        ADDC    A,#0x0
        MOV     ?V0 + 3,A
// 1517     }
// 1518     ctrl_GTA_WMSCB('A',i);
??StepMotorRun_5:
        ; Setup parameters for call to function ctrl_GTA_WMSCB
        MOV     A,R6
        MOV     R2,A
        MOV     R1,#0x41
        LCALL   ??ctrl_GTA_WMSCB?relay
// 1519     
// 1520     if(++index>=4)index=0;
        INC     ?V0 + 6
        MOV     A,?V0 + 6
        CLR     C
        SUBB    A,#0x4
        JC      ??StepMotorRun_7
        MOV     ?V0 + 6,#0x0
// 1521     
// 1522     for(j=0;j<3000;j++)
??StepMotorRun_7:
        MOV     R0,#-0x48
        MOV     R1,#0xb
// 1523     {
// 1524       asm("nop");            
??StepMotorRun_8:
        nop
// 1525     }
        LCALL   ?Subroutine14 & 0xFFFF
??CrossCallReturnLabel_15:
        ORL     A,R1
        JNZ     ??StepMotorRun_8
        MOV     A,R6
        ADD     A,#0x1
        INC     R6
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
??StepMotorRun_0:
        CLR     C
        MOV     A,R6
        SUBB    A,?V0 + 0
        MOV     A,R7
        SUBB    A,?V0 + 1
        JNC     ??StepMotorRun_9
        MOV     A,?V0 + 4
        MOV     ?V0 + 8,?V0 + 6
        JNZ     $+5
        LJMP    ??StepMotorRun_1 & 0xFFFF
        ; Setup parameters for call to function ctrl_GTA_WMSCB
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        LJMP    ??StepMotorRun_2 & 0xFFFF
// 1526     //ctrl_GTA_WMSCB('A',StepNum);
// 1527   }
// 1528 }
??StepMotorRun_9:
        MOV     A,#0x8
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
        MOV     R7,#0xa
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock74

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine14:
          CFI Block cfiCond75 Using cfiCommon0
          CFI Function StepMotorRun
          CFI Conditional ??CrossCallReturnLabel_14
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-18)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-17)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V8 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V9 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 26)
          CFI Block cfiCond76 Using cfiCommon0
          CFI (cfiCond76) Function StepMotorRun
          CFI (cfiCond76) Conditional ??CrossCallReturnLabel_15
          CFI (cfiCond76) R6 load(1, XDATA, add(CFA_XSP16, literal(-18)))
          CFI (cfiCond76) VB load(1, XDATA, add(CFA_XSP16, literal(-17)))
          CFI (cfiCond76) V0 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond76) V1 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond76) V2 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond76) V3 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond76) V4 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond76) V5 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond76) V6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond76) V7 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond76) V8 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond76) V9 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond76) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond76) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond76) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond76) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond76) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond76) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond76) CFA_SP SP+0
          CFI (cfiCond76) CFA_XSP16 add(XSP16, 26)
          CFI Block cfiPicker77 Using cfiCommon1
          CFI (cfiPicker77) NoFunction
          CFI (cfiPicker77) Picker
        MOV     A,R0
        ADD     A,#-0x1
        DEC     R0
        MOV     A,R1
        ADDC    A,#-0x1
        MOV     R1,A
        MOV     A,R0
        RET
          CFI EndBlock cfiCond75
          CFI EndBlock cfiCond76
          CFI EndBlock cfiPicker77
// 1529 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1530 void SegDisplay(uint8 num)
SegDisplay:
          CFI Block cfiBlock78 Using cfiCommon0
          CFI Function SegDisplay
        CODE
// 1531 {
        FUNCALL SegDisplay, ctrl_GTA_WMSCB
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 20, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 10
        MOV     A,#-0xa
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 20)
        MOV     A,R1
        MOV     R6,A
// 1532   uint8 DispNum[10]={0x3F,0x06,0x5B,0x4F,0x66,0x6D,0x7D,0x07,0x7F,0x6F};
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     DPH,#(`?<Constant {63, 6, 91, 79, 102, 109, 125, 7, 1` >> 8) & 0xff
        MOV     DPL,#`?<Constant {63, 6, 91, 79, 102, 109, 125, 7, 1` & 0xff
        MOV     A,#0xa
        LCALL   ?MOVE_LONG8_XDATA_XDATA
// 1533   //ctrl_GTA_WMSCB('M',0x80);
// 1534   if(num<0x10)
        MOV     A,R6
        CLR     C
        SUBB    A,#0x10
        JNC     ??SegDisplay_0
// 1535     ctrl_GTA_WMSCB('B',DispNum[num]);
        ; Setup parameters for call to function ctrl_GTA_WMSCB
        MOV     ?V0 + 0,R6
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,DPL
        ADD     A,?V0 + 0
        MOV     DPL,A
        MOV     A,DPH
        LCALL   ??Subroutine19_0 & 0xFFFF
??CrossCallReturnLabel_25:
        MOV     R2,A
        MOV     R1,#0x42
        LCALL   ??ctrl_GTA_WMSCB?relay
// 1536 }
??SegDisplay_0:
        MOV     A,#0xa
        LJMP    ?Subroutine5 & 0xFFFF
          CFI EndBlock cfiBlock78

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine13:
          CFI Block cfiCond79 Using cfiCommon0
          CFI Function TransmitApp_ProcessZDOIncomingMsgs
          CFI Conditional ??CrossCallReturnLabel_26
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 33)
          CFI Block cfiCond80 Using cfiCommon0
          CFI (cfiCond80) Function TransmitApp_ProcessZDOIncomingMsgs
          CFI (cfiCond80) Conditional ??CrossCallReturnLabel_27
          CFI (cfiCond80) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond80) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond80) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond80) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond80) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond80) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond80) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond80) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond80) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond80) CFA_SP SP+0
          CFI (cfiCond80) CFA_XSP16 add(XSP16, 33)
          CFI Block cfiPicker81 Using cfiCommon1
          CFI (cfiPicker81) NoFunction
          CFI (cfiPicker81) Picker
        MOV     A,R6
        ADD     A,#0x10
        MOV     DPL,A
        MOV     A,R7
          CFI EndBlock cfiCond79
          CFI EndBlock cfiCond80
          CFI EndBlock cfiPicker81
        REQUIRE ??Subroutine19_0
        ; // Fall through to label ??Subroutine19_0

        RSEG BANKED_CODE:CODE:NOROOT(0)
??Subroutine19_0:
          CFI Block cfiCond82 Using cfiCommon0
          CFI Function TransmitApp_ProcessZDOMsgs
          CFI Conditional ??CrossCallReturnLabel_23
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
          CFI Block cfiCond83 Using cfiCommon0
          CFI (cfiCond83) Function StepMotorRun
          CFI (cfiCond83) Conditional ??CrossCallReturnLabel_24
          CFI (cfiCond83) R6 load(1, XDATA, add(CFA_XSP16, literal(-18)))
          CFI (cfiCond83) VB load(1, XDATA, add(CFA_XSP16, literal(-17)))
          CFI (cfiCond83) V0 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond83) V1 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond83) V2 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond83) V3 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond83) V4 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond83) V5 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond83) V6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond83) V7 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond83) V8 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond83) V9 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond83) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond83) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond83) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond83) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond83) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond83) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond83) CFA_SP SP+0
          CFI (cfiCond83) CFA_XSP16 add(XSP16, 26)
          CFI Block cfiCond84 Using cfiCommon0
          CFI (cfiCond84) Function SegDisplay
          CFI (cfiCond84) Conditional ??CrossCallReturnLabel_25
          CFI (cfiCond84) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond84) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond84) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond84) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond84) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond84) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond84) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond84) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond84) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond84) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond84) CFA_SP SP+0
          CFI (cfiCond84) CFA_XSP16 add(XSP16, 20)
          CFI Block cfiCond85 Using cfiCommon0
          CFI (cfiCond85) Function TransmitApp_ProcessZDOIncomingMsgs
          CFI (cfiCond85) Conditional ??CrossCallReturnLabel_26
          CFI (cfiCond85) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond85) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond85) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond85) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond85) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond85) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond85) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond85) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond85) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond85) CFA_SP SP+0
          CFI (cfiCond85) CFA_XSP16 add(XSP16, 33)
          CFI Block cfiCond86 Using cfiCommon0
          CFI (cfiCond86) Function TransmitApp_ProcessZDOIncomingMsgs
          CFI (cfiCond86) Conditional ??CrossCallReturnLabel_27
          CFI (cfiCond86) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond86) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond86) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond86) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond86) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond86) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond86) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond86) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond86) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond86) CFA_SP SP+0
          CFI (cfiCond86) CFA_XSP16 add(XSP16, 33)
          CFI Block cfiPicker87 Using cfiCommon1
          CFI (cfiPicker87) NoFunction
          CFI (cfiPicker87) Picker
        LCALL   ??Subroutine18_0 & 0xFFFF
??CrossCallReturnLabel_33:
        MOVX    A,@DPTR
        RET
          CFI EndBlock cfiCond82
          CFI EndBlock cfiCond83
          CFI EndBlock cfiCond84
          CFI EndBlock cfiCond85
          CFI EndBlock cfiCond86
          CFI EndBlock cfiPicker87
// 1537 #endif

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1538 uint16 FramePackage(uint8 *pFrame,uint8 addr,uint8 cmd,uint8 *data,uint16 datalen)
FramePackage:
          CFI Block cfiBlock88 Using cfiCommon0
          CFI Function FramePackage
        CODE
// 1539 {
        FUNCALL FramePackage, Crc16Code
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xe
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 14)
        ; Saved register size: 14
        ; Auto size: 0
// 1540   uint16 i;
// 1541   uint16 crc;
// 1542   uint8 *p;
// 1543     p=pFrame;
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
// 1544   *p++=FRAME_HEAD;//²»Ã÷bug ÔÙ¼ÓÒ»¸ö×Ö½Ú
        MOV     DPL,R6
        MOV     DPH,R7
        MOV     A,#0x7e
        MOVX    @DPTR,A
        INC     DPTR
// 1545   *p++=FRAME_HEAD;
        MOVX    @DPTR,A
        INC     DPTR
// 1546   *p++=addr;
        MOV     A,R1
        MOVX    @DPTR,A
        INC     DPTR
// 1547   *p++=cmd;
        MOV     A,R4
        MOVX    @DPTR,A
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 1548   for(i=0;i<datalen;i++)
        MOV     R4,#0x0
        MOV     R5,#0x0
        MOV     A,#0xe
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,#0x10
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 1,A
        SJMP    ??FramePackage_0
// 1549   {
// 1550     *p++=*data++;
??FramePackage_1:
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    @DPTR,A
        MOV     DPL,R0
        MOV     DPH,R1
        INC     DPTR
        MOV     R0,DPL
        MOV     R1,DPH
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 1551   }
        MOV     A,R4
        ADD     A,#0x1
        INC     R4
        MOV     A,R5
        ADDC    A,#0x0
        MOV     R5,A
??FramePackage_0:
        CLR     C
        MOV     A,R4
        SUBB    A,?V0 + 0
        MOV     A,R5
        SUBB    A,?V0 + 1
        JC      ??FramePackage_1
// 1552   //crc=Crc16Code(pFrame+1,datalen+2);//FRAME_HEAD²»¼Æ
// 1553    crc=Crc16Code(pFrame+2,datalen+2);//FRAME_HEAD²»¼Æ
        ; Setup parameters for call to function Crc16Code
        MOV     A,?V0 + 0
        ADD     A,#0x2
        MOV     R1,A
        MOV     A,R2
        ADD     A,#0x2
        MOV     R2,A
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
        LCALL   ??Crc16Code?relay
// 1554   *p++=LO_UINT16(crc);
        MOV     A,R2
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    @DPTR,A
        INC     DPTR
// 1555   *p=HI_UINT16(crc);
        MOV     A,R3
        MOVX    @DPTR,A
// 1556   //return datalen+5;
// 1557   return datalen+6;//¶à¼ÓÒ»¸öFRAME_HEAD
        MOV     A,?V0 + 0
        ADD     A,#0x6
        MOV     R2,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     R3,A
        MOV     R7,#0x6
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock88
// 1558 }
// 1559 
// 1560   /*********************************************************************
// 1561  * º¯ÊýÃû³Æ£ºReadADC
// 1562  * ¹¦    ÄÜ£º¶ÁÈ¡ADCÖµ
// 1563  * Èë¿Ú²ÎÊý£ºÍ¨µÀ
// 1564  * ³ö¿Ú²ÎÊý£ºÎÞ
// 1565  * ·µ »Ø Öµ£ºADÊý¾Ý()
// 1566  ********************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1567 uint16 ReadADC( uint8 channel )
ReadADC:
          CFI Block cfiBlock89 Using cfiCommon0
          CFI Function ReadADC
        CODE
// 1568 {
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 0
        MOV     A,R1
        MOV     R4,A
// 1569   volatile unsigned char tmp,n;
// 1570   signed short adcvalue;
// 1571   float voltagevalue_X;
// 1572 
// 1573   /* XÖá¼ÓËÙ¶È²É¼¯ */
// 1574   /* ÉèÖÃ»ù×¼µçÑ¹¡¢³éÈ¡ÂÊºÍµ¥¶ËÊäÈëÍ¨µÀ */
// 1575   ADCCON3 = ((0x02 << 6) |  // ²ÉÓÃAVDD5Òý½ÅÉÏµÄµçÑ¹Îª»ù×¼µçÑ¹
// 1576              (0x03 << 4) |  // ³éÈ¡ÂÊÎª512£¬ÏàÓ¦µÄÓÐÐ§Î»Îª12Î»(×î¸ßÎ»Îª·ûºÅÎ»)
// 1577              channel);
        MOV     A,#-0x50
        ORL     A,R4
        MOV     0xb6,A
// 1578 
// 1579   /* µÈ´ýÍ¨µÀ×ª»»Íê³É */
// 1580   while ((ADCCON1 & 0x80) != 0x80);
??ReadADC_0:
        MOV     A,0xb4
        MOV     C,0xE0 /* A   */.7
        JNC     ??ReadADC_0
// 1581 
// 1582   /* ´ÓADCL£¬ADCH¶ÁÈ¡×ª»»Öµ£¬´Ë²Ù×÷»¹ÇåÁãADCCON1.EOC */
// 1583   adcvalue = (signed short)ADCL;
        MOV     A,0xba
        MOV     ?V0 + 0,A
// 1584   adcvalue |= (signed short)(ADCH << 8); 
        MOV     A,0xbb
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     ?V0 + 1,A
// 1585 
// 1586   /* ÈôadcvalueÐ¡ÓÚ0£¬¾ÍÈÏÎªËüÎª0 */
// 1587   if(adcvalue < 0) adcvalue = 0;
        CLR     C
        SUBB    A,#0x0
        MOV     C,0xD0 /* PSW */.2
        XRL     A,PSW
        RLC     A
        JNC     ??ReadADC_1
        MOV     ?V0 + 0,R0
        MOV     ?V0 + 1,R0
// 1588     
// 1589   adcvalue >>= 4;  // È¡³ö12Î»ÓÐÐ§Î»
// 1590     
// 1591   /* ½«×ª»»Öµ»»ËãÎªÊµ¼ÊµçÑ¹Öµ */
// 1592   voltagevalue_X = (adcvalue * 3.3) / 2047;  // 2047ÊÇÄ£ÄâÊäÈë´ïµ½VREFÊ±µÄÂúÁ¿³ÌÖµ
// 1593                                              // ÓÉÓÚÓÐÐ§Î»ÊÇ12Î»(×î¸ßÎ»Îª·ûºÅÎ»)£¬
// 1594                                              // ËùÒÔÕýµÄÂúÁ¿³ÌÖµÎª2047
// 1595                                              // ´Ë´¦£¬VREF = 3.3V
// 1596   return ((uint16)(voltagevalue_X * 1000));  // µçÑ¹·Å´ó100±¶±ãÓÚ´«Êä¼°ÉÏÎ»»ú´¦Àí
??ReadADC_1:
        MOV     A,#0x4
        MOV     R0,#?V0 + 0
        LCALL   ?SS_SHR
        MOV     A,?V0 + 1
        RLC     A
        SUBB    A,0xE0 /* A   */
        MOV     ?V0 + 2,A
        MOV     ?V0 + 3,A
        MOV     R0,#?V0 + 0
        LCALL   ?L_TO_FLT
        MOV     DPTR,#__Constant_40533333
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 0
        MOV     R1,#?V0 + 4
        LCALL   ?FLT_MUL
        MOV     DPTR,#__Constant_44ffe000
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 0
        MOV     R1,#?V0 + 4
        LCALL   ?FLT_DIV
        MOV     DPTR,#__Constant_447a0000
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 0
        MOV     R1,#?V0 + 4
        LCALL   ?FLT_MUL
        MOV     R0,#?V0 + 0
        LCALL   ?FLT_TO_L
        MOV     R2,?V0 + 0
        MOV     R3,?V0 + 1
        LJMP    ?Subroutine1 & 0xFFFF
          CFI EndBlock cfiBlock89
        REQUIRE ADCCON3
        REQUIRE ADCCON1
        REQUIRE ADCL
        REQUIRE ADCH
// 1597 }

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1598 void SendDataRequest(uint8 *pBuf,uint16 len)
SendDataRequest:
          CFI Block cfiBlock90 Using cfiCommon0
          CFI Function SendDataRequest
        CODE
// 1599 {
        FUNCALL SendDataRequest, AF_DataRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SendDataRequest, HalLedBlink
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 0
// 1600     if(!ZG_DEVICE_COORDINATOR_TYPE)//·ÇÐ­µ÷Æ÷
        MOV     DPTR,#zgDeviceLogicalType
        MOVX    A,@DPTR
        MOV     DPTR,#TestDirectSent_DstAddr + 8
        JZ      ??SendDataRequest_0
// 1601       {
// 1602         TestDirectSent_DstAddr.addrMode=(afAddrMode_t)Addr16Bit;//µØÖ·´«ËÍ
        MOV     A,#0x2
        LCALL   ??Subroutine17_0 & 0xFFFF
// 1603         TestDirectSent_DstAddr.endPoint = 0;
// 1604         TestDirectSent_DstAddr.addr.shortAddr = 0x0000;
??CrossCallReturnLabel_18:
        MOV     DPTR,#TestDirectSent_DstAddr
        SJMP    ??CrossCallReturnLabel_3
// 1605       }
// 1606       else
// 1607       {
// 1608         if(ZG_DEVICE_COORDINATOR_TYPE)
// 1609         {
// 1610           TestDirectSent_DstAddr.addrMode=(afAddrMode_t)AddrBroadcast;//Addr16Bit;//µØÖ·´«ËÍ
??SendDataRequest_0:
        LCALL   ?Subroutine7 & 0xFFFF
// 1611           TestDirectSent_DstAddr.endPoint = 0;
// 1612           TestDirectSent_DstAddr.addr.shortAddr = 0xffff;//destAddr;
// 1613           //TestDirectSent_DstAddr.addr.extAddr
// 1614         }
// 1615       }
??CrossCallReturnLabel_3:
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    @DPTR,A
// 1616      AF_DataRequest(    
// 1617               &TestDirectSent_DstAddr,               //µØÖ·
// 1618               &TransmitApp_epDesc,                //ÃèÊö
// 1619               TRANSMITAPP_CLUSTERID_TESTMSG,      //×å
// 1620                 len,                                  //len
// 1621                 pBuf,//TransmitApp_Msg,             //DATA
// 1622               &TransmitApp_TransID,               //
// 1623               TRANSMITAPP_TX_OPTIONS,
// 1624               AF_DEFAULT_RADIUS 
// 1625               );
        ; Setup parameters for call to function AF_DataRequest
        MOV     ?V0 + 0,#0x1e
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 11)
        MOV     ?V0 + 0,#TransmitApp_TransID & 0xff
        MOV     ?V0 + 1,#(TransmitApp_TransID >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 13)
        MOV     ?V0 + 0,R2
        MOV     ?V0 + 1,R3
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 15)
        MOV     ?V0 + 0,R4
        MOV     ?V0 + 1,R5
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 17)
        MOV     ?V0 + 0,#-0x5f
        MOV     ?V0 + 1,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 19)
        MOV     R1,#0x20
        MOV     R4,#TransmitApp_epDesc & 0xff
        MOV     R5,#(TransmitApp_epDesc >> 8) & 0xff
        MOV     R2,#TestDirectSent_DstAddr & 0xff
        MOV     R3,#(TestDirectSent_DstAddr >> 8) & 0xff
        LCALL   ??AF_DataRequest?relay
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 10)
// 1626      HalLedBlink (HAL_LED_3, 1, 50, 200);
        ; Setup parameters for call to function HalLedBlink
        MOV     R4,#-0x38
        MOV     R5,#0x0
        LJMP    ?Subroutine0 & 0xFFFF
          CFI EndBlock cfiBlock90
// 1627 }

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine7:
          CFI Block cfiCond91 Using cfiCommon0
          CFI Function uartRxCB
          CFI Conditional ??CrossCallReturnLabel_2
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 140)
          CFI Block cfiCond92 Using cfiCommon0
          CFI (cfiCond92) Function SendDataRequest
          CFI (cfiCond92) Conditional ??CrossCallReturnLabel_3
          CFI (cfiCond92) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond92) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond92) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond92) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond92) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond92) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond92) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond92) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond92) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond92) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond92) CFA_SP SP+0
          CFI (cfiCond92) CFA_XSP16 add(XSP16, 10)
          CFI Block cfiPicker93 Using cfiCommon1
          CFI (cfiPicker93) NoFunction
          CFI (cfiPicker93) Picker
        MOV     A,#0xf
        MOVX    @DPTR,A
        INC     DPTR
        CLR     A
        MOVX    @DPTR,A
        MOV     DPTR,#TestDirectSent_DstAddr
        MOV     A,#-0x1
        RET
          CFI EndBlock cfiCond91
          CFI EndBlock cfiCond92
          CFI EndBlock cfiPicker93
// 1628 
// 1629 #if defined(GTA_WTHSB_R1)
// 1630 uint8 readTempHumi(void)
// 1631 {
// 1632  float f_humi=0,f_temp=0; 
// 1633  
// 1634   uint8 checksum;
// 1635  
// 1636   /* ¿ØÖÆSHT11½øÐÐÎÂÊª¶È²âÁ¿ */
// 1637   
// 1638   
// 1639   s_measure(temp_val,&checksum,TEMP); // ²âÁ¿ÎÂ¶È
// 1640   s_measure(humi_val,&checksum,HUMI); // ²âÁ¿Ïà¶ÔÊª¶È
// 1641   f_humi=BUILD_UINT16(humi_val[0],humi_val[1]);
// 1642   f_temp=BUILD_UINT16(temp_val[0],temp_val[1]);
// 1643   calc_sth11(&f_humi,&f_temp);
// 1644   humi_val[0]=f_humi;//&(uint8)f_humi;
// 1645   humi_val[1]=(f_humi-humi_val[0])*100;  
// 1646   temp_val[0]=f_temp; 
// 1647   temp_val[1]=(f_temp-temp_val[0])*100;  
// 1648   return TRUE;
// 1649 }
// 1650 #endif
// 1651 
// 1652 #if defined(GTA_WMSCB_R1)

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1653 void init_GTA_WMSCB(void)
init_GTA_WMSCB:
          CFI Block cfiBlock94 Using cfiCommon0
          CFI Function init_GTA_WMSCB
        CODE
// 1654 {
        ; Saved register size: 0
        ; Auto size: 0
// 1655   P0SEL=P0SEL&0x8C;//10001100
        ANL     0xf3,#0x8c
// 1656   P1SEL=P1SEL&0xF0;
        ANL     0xf4,#0xf0
// 1657   P2SEL=P2SEL&0xFA;
        ANL     0xf5,#0xfa
// 1658   //HAL_CONFIG_IO_OUTPUT(0, HAL_LCD_CS_PIN, 1);
// 1659   IO_DIR_PORT_PIN(0, 0, IO_OUT);
        ORL     0xfd,#0x1
// 1660   IO_DIR_PORT_PIN(0, 1, IO_OUT);
        ORL     0xfd,#0x2
// 1661   IO_DIR_PORT_PIN(0, 4, IO_OUT);
        ORL     0xfd,#0x10
// 1662   IO_DIR_PORT_PIN(0, 5, IO_OUT);
        ORL     0xfd,#0x20
// 1663   IO_DIR_PORT_PIN(0, 6, IO_OUT);
        ORL     0xfd,#0x40
// 1664   IO_DIR_PORT_PIN(1, 0, IO_OUT);
        ORL     0xfe,#0x1
// 1665   IO_DIR_PORT_PIN(1, 1, IO_OUT);
        ORL     0xfe,#0x2
// 1666   IO_DIR_PORT_PIN(1, 2, IO_OUT);
        ORL     0xfe,#0x4
// 1667   IO_DIR_PORT_PIN(1, 3, IO_OUT);
        ORL     0xfe,#0x8
// 1668   IO_DIR_PORT_PIN(2, 0, IO_OUT);
        ORL     0xff,#0x1
// 1669   IO_DIR_PORT_PIN(2, 2, IO_OUT);
        ORL     0xff,#0x4
// 1670 }
        LJMP    ?BRET
          CFI EndBlock cfiBlock94
        REQUIRE P0SEL
        REQUIRE P1SEL
        REQUIRE P2SEL
        REQUIRE P0DIR
        REQUIRE P1DIR
        REQUIRE P2DIR
// 1671 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1672 void ctrl_GTA_WMSCB(uint8 port,uint8 data)
ctrl_GTA_WMSCB:
          CFI Block cfiBlock95 Using cfiCommon0
          CFI Function ctrl_GTA_WMSCB
        CODE
// 1673 {
        ; Saved register size: 0
        ; Auto size: 0
// 1674   //uint8 i=0;
// 1675   //init_GTA_WMSCB();
// 1676   asm("nop"); 
        nop
// 1677   asm("nop"); 
        nop
// 1678 
// 1679   T82C55A_WR=1;
        SETB    0xa0.2
// 1680   asm("nop"); 
        nop
// 1681   asm("nop"); 
        nop
// 1682 
// 1683   switch(port)
        MOV     A,R1
        ADD     A,#-0x41
        JZ      ??ctrl_GTA_WMSCB_0
        DEC     A
        JZ      ??ctrl_GTA_WMSCB_1
        DEC     A
        JZ      ??ctrl_GTA_WMSCB_2
        ADD     A,#-0xa
        JZ      ??ctrl_GTA_WMSCB_3
        SJMP    ??ctrl_GTA_WMSCB_4
// 1684   {
// 1685   case        'A':
// 1686     T82C55A_ADDR0=0;
??ctrl_GTA_WMSCB_0:
        CLR     0xa0.0
// 1687     T82C55A_ADDR1=0;
        SJMP    ??ctrl_GTA_WMSCB_5
// 1688     break;
// 1689   case        'B':
// 1690     T82C55A_ADDR0=1;
??ctrl_GTA_WMSCB_1:
        SETB    0xa0.0
// 1691     T82C55A_ADDR1=0;
??ctrl_GTA_WMSCB_5:
        CLR     0x90.3
// 1692     break;  
        SJMP    ??ctrl_GTA_WMSCB_4
// 1693   case        'C':
// 1694     T82C55A_ADDR0=0;
??ctrl_GTA_WMSCB_2:
        CLR     0xa0.0
// 1695     T82C55A_ADDR1=1;
        SJMP    ??ctrl_GTA_WMSCB_6
// 1696     break;
// 1697   case        'M':
// 1698     T82C55A_ADDR0=1;
??ctrl_GTA_WMSCB_3:
        SETB    0xa0.0
// 1699     T82C55A_ADDR1=1;
??ctrl_GTA_WMSCB_6:
        SETB    0x90.3
// 1700     break;
// 1701   default:break;
// 1702   }
// 1703   asm("nop"); 
??ctrl_GTA_WMSCB_4:
        nop
// 1704   asm("nop"); 
        nop
// 1705 
// 1706   T82C55A_WR=0;
        CLR     0xa0.2
// 1707   asm("nop"); 
        nop
// 1708   asm("nop"); 
        nop
// 1709 
// 1710   if(data&0x01)
        MOV     A,R2
        MOV     C,0xE0 /* A   */.0
        JNC     ??ctrl_GTA_WMSCB_7
// 1711     T82C55A_D0=1;
        SETB    0x80.0
        SJMP    ??ctrl_GTA_WMSCB_8
// 1712   else
// 1713     T82C55A_D0=0;
??ctrl_GTA_WMSCB_7:
        CLR     0x80.0
// 1714   
// 1715   if(data&0x02)
??ctrl_GTA_WMSCB_8:
        MOV     C,0xE0 /* A   */.1
        JNC     ??ctrl_GTA_WMSCB_9
// 1716     T82C55A_D1=1;
        SETB    0x80.1
        SJMP    ??ctrl_GTA_WMSCB_10
// 1717   else
// 1718     T82C55A_D1=0;
??ctrl_GTA_WMSCB_9:
        CLR     0x80.1
// 1719   
// 1720   if(data&0x04)
??ctrl_GTA_WMSCB_10:
        MOV     C,0xE0 /* A   */.2
        JNC     ??ctrl_GTA_WMSCB_11
// 1721     T82C55A_D2=1;
        SETB    0x80.4
        SJMP    ??ctrl_GTA_WMSCB_12
// 1722   else
// 1723     T82C55A_D2=0;
??ctrl_GTA_WMSCB_11:
        CLR     0x80.4
// 1724   
// 1725   if(data&0x08)
??ctrl_GTA_WMSCB_12:
        MOV     C,0xE0 /* A   */.3
        JNC     ??ctrl_GTA_WMSCB_13
// 1726     T82C55A_D3=1;
        SETB    0x80.5
        SJMP    ??ctrl_GTA_WMSCB_14
// 1727   else
// 1728     T82C55A_D3=0;
??ctrl_GTA_WMSCB_13:
        CLR     0x80.5
// 1729   
// 1730   if(data&0x10)
??ctrl_GTA_WMSCB_14:
        MOV     C,0xE0 /* A   */.4
        JNC     ??ctrl_GTA_WMSCB_15
// 1731     T82C55A_D4=1;
        SETB    0x80.6
        SJMP    ??ctrl_GTA_WMSCB_16
// 1732   else
// 1733     T82C55A_D4=0;
??ctrl_GTA_WMSCB_15:
        CLR     0x80.6
// 1734   
// 1735   if(data&0x20)
??ctrl_GTA_WMSCB_16:
        MOV     C,0xE0 /* A   */.5
        JNC     ??ctrl_GTA_WMSCB_17
// 1736     T82C55A_D5=1;
        SETB    0x90.0
        SJMP    ??ctrl_GTA_WMSCB_18
// 1737   else
// 1738     T82C55A_D5=0;
??ctrl_GTA_WMSCB_17:
        CLR     0x90.0
// 1739   
// 1740   if(data&0x40)
??ctrl_GTA_WMSCB_18:
        MOV     C,0xE0 /* A   */.6
        JNC     ??ctrl_GTA_WMSCB_19
// 1741     T82C55A_D6=1;
        SETB    0x90.1
        SJMP    ??ctrl_GTA_WMSCB_20
// 1742   else
// 1743     T82C55A_D6=0;
??ctrl_GTA_WMSCB_19:
        CLR     0x90.1
// 1744   
// 1745   if(data&0x80)
??ctrl_GTA_WMSCB_20:
        MOV     C,0xE0 /* A   */.7
        JNC     ??ctrl_GTA_WMSCB_21
// 1746     T82C55A_D7=1;
        SETB    0x90.2
        SJMP    ??ctrl_GTA_WMSCB_22
// 1747   else
// 1748     T82C55A_D7=0;
??ctrl_GTA_WMSCB_21:
        CLR     0x90.2
// 1749   asm("nop"); 
??ctrl_GTA_WMSCB_22:
        nop
// 1750   asm("nop"); 
        nop
// 1751 
// 1752   T82C55A_WR=1;
        SETB    0xa0.2
// 1753   asm("nop"); 
        nop
// 1754   asm("nop"); 
        nop
// 1755 
// 1756   T82C55A_WR=0;
        CLR     0xa0.2
// 1757   
// 1758 }
        LJMP    ?BRET
          CFI EndBlock cfiBlock95
        REQUIRE _A_P2
        REQUIRE _A_P1
        REQUIRE _A_P0

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for NativeAddr>`:
        DATA8
        DB 1

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??TransmitApp_Init?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    TransmitApp_Init

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??TransmitApp_ProcessEvent?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    TransmitApp_ProcessEvent

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??TransmitApp_ProcessZDOMsgs?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    TransmitApp_ProcessZDOMsgs

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??TransmitApp_HandleKeys?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    TransmitApp_HandleKeys

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??TransmitApp_MessageMSGCB?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    TransmitApp_MessageMSGCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??TransmitApp_ProcessZDOIncomingMsgs?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    TransmitApp_ProcessZDOIncomingMsgs

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??TransmitApp_SendTheMessage?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    TransmitApp_SendTheMessage

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??TransmitApp_ChangeState?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    TransmitApp_ChangeState

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??TransmitApp_SetSendEvt?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    TransmitApp_SetSendEvt

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??TransmitApp_DisplayResults?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    TransmitApp_DisplayResults

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??initUart?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    initUart

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??uartRxCB?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    uartRxCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??FrameUnPackage?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    FrameUnPackage

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??Crc16Code?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    Crc16Code

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SentDataInBind?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    SentDataInBind

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SendBindRequest?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    SendBindRequest

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ReportData?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    ReportData

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??StepMotorRun?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    StepMotorRun

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SegDisplay?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    SegDisplay

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??FramePackage?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    FramePackage

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ReadADC?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    ReadADC

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SendDataRequest?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    SendDataRequest

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??init_GTA_WMSCB?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    init_GTA_WMSCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ctrl_GTA_WMSCB?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    ctrl_GTA_WMSCB

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "GTA Zigbee">`:
        DB "GTA Zigbee"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
`?<Constant {3, 9, 12, 6}>`:
        DATA8
        DB 3
        DB 9
        DB 12
        DB 6

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
`?<Constant {3, 6, 12, 9}>`:
        DATA8
        DB 3
        DB 6
        DB 12
        DB 9

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant {63, 6, 91, 79, 102, 109, 125, 7, 1`:
        DB 63
        DB 6
        DB 91
        DB 79
        DB 102
        DB 109
        DB 125
        DB 7
        DB 127
        DB 111

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_40533333:
        DD 40533333H

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_44ffe000:
        DD 44FFE000H

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_447a0000:
        DD 447A0000H

        END
// 1759 
// 1760 #endif
// 
// 3 456 bytes in segment BANKED_CODE
//   144 bytes in segment BANK_RELAYS
//    13 bytes in segment SFR_AN
//     1 byte  in segment XDATA_I
//     1 byte  in segment XDATA_ID
//    55 bytes in segment XDATA_ROM_C
//   163 bytes in segment XDATA_Z
// 
// 3 601 bytes of CODE  memory
//    43 bytes of CONST memory (+ 12 bytes shared)
//     0 bytes of DATA  memory (+ 13 bytes shared)
//   164 bytes of XDATA memory
//
//Errors: none
//Warnings: 19
